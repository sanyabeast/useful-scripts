// ==UserScript==
// @name         retr0 userscript
// @description  retr0 userscript
// @version      1
// @grant        none
// @run-at       document-start
// @match        *://*/*
// @author       @sanyabeast
// ==/UserScript==

(function () {
    'use strict';


    let state = {
        loaded: {
            lodash: false,
            hotkeys: false
        }
    }

    const load_lodash = () => {
        if (state.loaded.lodash) return;
        state.loaded.lodash = true;
        /**
         * @license
         * Lodash <https://lodash.com/>
         * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
         * Released under MIT license <https://lodash.com/license>
         * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
         * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
         */
        ; (function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&$(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function a(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function c(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function v(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return -1}function $(n,t,r){return t==t?function n(t,r,e){for(var u=e-1,i=t.length;++u<i;)if(t[u]===r)return u;return -1}(n,t,r):v(n,_,r)}function g(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return -1}function _(n){return n!=n}function y(n,t){var r=null==n?0:n.length;return r?m(n,t)/r:X}function d(n){return function(t){return null==t?D:t[n]}}function b(n){return function(t){return null==n?D:n[t]}}function w(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function m(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==D&&(r=r===D?i:r+i)}return r}function x(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function j(n){return n?n.slice(0,T(n)+1).replace(n3,""):n}function A(n){return function(t){return n(t)}}function k(n,t){return a(t,function(t){return n[t]})}function I(n,t){return n.has(t)}function O(n,t){for(var r=-1,e=n.length;++r<e&&$(t,n[r],0)>-1;);return r}function z(n,t){for(var r=n.length;r--&&$(t,n[r],0)>-1;);return r}function S(n){return"\\"+tC[n]}function R(n){return tS.test(n)}function E(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function W(n,t){return function(r){return n(t(r))}}function L(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==N||(n[r]=N,i[u++]=r)}return i}function C(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function U(n){return R(n)?function n(t){for(var r=tO.lastIndex=0;tO.test(t);)++r;return r}(n):tK(n)}function B(n){var t,r;return R(n)?(r=n,r.match(tO)||[]):(t=n).split("")}function T(n){for(var t=n.length;t--&&n5.test(n.charAt(t)););return t}var D,M="Expected a function",F="__lodash_hash_undefined__",N="__lodash_placeholder__",P=1,q=2,Z=4,K=8,V=16,G=32,H=64,J="...",Y=1/0,Q=9007199254740991,X=NaN,nn=4294967295,nt=nn-1,nr=nn>>>1,ne=[["ary",128],["bind",1],["bindKey",2],["curry",K],["curryRight",V],["flip",512],["partial",G],["partialRight",H],["rearg",256]],nu="[object Arguments]",ni="[object Array]",no="[object Boolean]",nf="[object Date]",na="[object Error]",nc="[object Function]",nl="[object GeneratorFunction]",ns="[object Map]",nh="[object Number]",np="[object Null]",n8="[object Object]",nv="[object Promise]",n$="[object RegExp]",ng="[object Set]",n_="[object String]",ny="[object Symbol]",nd="[object Undefined]",nb="[object WeakMap]",nw="[object ArrayBuffer]",nm="[object DataView]",n0="[object Float32Array]",nx="[object Float64Array]",nj="[object Int8Array]",n1="[object Int16Array]",nA="[object Int32Array]",nk="[object Uint8Array]",nI="[object Uint8ClampedArray]",nO="[object Uint16Array]",nz="[object Uint32Array]",nS=/\b__p \+= '';/g,nR=/\b(__p \+=) '' \+/g,nE=/(__e\(.*?\)|\b__t\)) \+\n'';/g,n6=/&(?:amp|lt|gt|quot|#39);/g,nW=/[&<>"']/g,nL=RegExp(n6.source),nC=RegExp(nW.source),n4=/<%-([\s\S]+?)%>/g,n7=/<%([\s\S]+?)%>/g,n2=/<%=([\s\S]+?)%>/g,nU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nB=/^\w*$/,nT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n9=/[\\^$.*+?()[\]{}|]/g,nD=RegExp(n9.source),n3=/^\s+/,n5=/\s/,nM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nF=/\{\n\/\* \[wrapped with (.+)\] \*/,nN=/,? & /,nP=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nq=/[()=,{}\[\]\/\s]/,nZ=/\\(\\)?/g,nK=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nV=/\w*$/,nG=/^[-+]0x[0-9a-f]+$/i,nH=/^0b[01]+$/i,nJ=/^\[object .+?Constructor\]$/,nY=/^0o[0-7]+$/i,nQ=/^(?:0|[1-9]\d*)$/,nX=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tn=/($^)/,tt=/['\n\r\u2028\u2029\\]/g,tr="\ud800-\udfff",te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",tu="\\u2700-\\u27bf",ti="a-z\\xdf-\\xf6\\xf8-\\xff",to="A-Z\\xc0-\\xd6\\xd8-\\xde",tf="\\ufe0e\\ufe0f",ta="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tc="['’]",tl="["+ta+"]",ts="["+te+"]",th="["+ti+"]",tp="[^"+tr+ta+"\\d+"+tu+ti+to+"]",t8="\ud83c[\udffb-\udfff]",tv="[^"+tr+"]",t$="(?:\ud83c[\udde6-\uddff]){2}",tg="[\ud800-\udbff][\udc00-\udfff]",t_="["+to+"]",ty="\\u200d",td="(?:"+th+"|"+tp+")",tb="(?:"+tc+"(?:d|ll|m|re|s|t|ve))?",tw="(?:"+tc+"(?:D|LL|M|RE|S|T|VE))?",tm="(?:"+ts+"|"+t8+")?",t0="["+tf+"]?",tx="(?:"+ty+"(?:"+[tv,t$,tg].join("|")+")"+t0+tm+")*",tj=t0+tm+tx,t1="(?:"+["["+tu+"]",t$,tg].join("|")+")"+tj,tA="(?:"+[tv+ts+"?",ts,t$,tg,"["+tr+"]"].join("|")+")",tk=RegExp(tc,"g"),tI=RegExp(ts,"g"),tO=RegExp(t8+"(?="+t8+")|"+tA+tj,"g"),tz=RegExp([t_+"?"+th+"+"+tb+"(?="+[tl,t_,"$"].join("|")+")","(?:"+t_+"|"+tp+")+"+tw+"(?="+[tl,t_+td,"$"].join("|")+")",t_+"?"+td+"+"+tb,t_+"+"+tw,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",t1].join("|"),"g"),tS=RegExp("["+ty+tr+te+tf+"]"),tR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],t6=-1,tW={};tW[n0]=tW[nx]=tW[nj]=tW[n1]=tW[nA]=tW[nk]=tW[nI]=tW[nO]=tW[nz]=!0,tW[nu]=tW[ni]=tW[nw]=tW[no]=tW[nm]=tW[nf]=tW[na]=tW[nc]=tW[ns]=tW[nh]=tW[n8]=tW[n$]=tW[ng]=tW[n_]=tW[nb]=!1;var tL={};tL[nu]=tL[ni]=tL[nw]=tL[nm]=tL[no]=tL[nf]=tL[n0]=tL[nx]=tL[nj]=tL[n1]=tL[nA]=tL[ns]=tL[nh]=tL[n8]=tL[n$]=tL[ng]=tL[n_]=tL[ny]=tL[nk]=tL[nI]=tL[nO]=tL[nz]=!0,tL[na]=tL[nc]=tL[nb]=!1;var tC={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t4=parseFloat,t7=parseInt,t2="object"==typeof global&&global&&global.Object===Object&&global,tU="object"==typeof self&&self&&self.Object===Object&&self,tB=t2||tU||Function("return this")(),tT="object"==typeof exports&&exports&&!exports.nodeType&&exports,t9=tT&&"object"==typeof module&&module&&!module.nodeType&&module,tD=t9&&t9.exports===tT,t3=tD&&t2.process,t5=function(){try{var n;return t9&&t9.require&&t9.require("util").types||t3&&t3.binding&&t3.binding("util")}catch(t){}}(),tM=t5&&t5.isArrayBuffer,tF=t5&&t5.isDate,tN=t5&&t5.isMap,tP=t5&&t5.isRegExp,tq=t5&&t5.isSet,tZ=t5&&t5.isTypedArray,tK=d("length"),tV=b({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tG=b({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),tH=b({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tJ=function b(n5){function tr(n){if(ui(n)&&!oW(n)&&!(n instanceof ti)){if(n instanceof tu)return n;if(uN.call(n,"__wrapped__"))return e6(n)}return new tu(n)}function te(){}function tu(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=D}function ti(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}function to(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function tf(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function ta(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function tc(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new ta;++t<r;)this.add(n[t])}function tl(n){this.size=(this.__data__=new tf(n)).size}function ts(n,t){var r=oW(n),e=!r&&o6(n),u=!r&&!e&&oC(n),i=!r&&!e&&!u&&oB(n),o=r||e||u||i,f=o?x(n.length,uT):[],a=f.length;for(var c in n)!t&&!uN.call(n,c)||o&&("length"==c||u&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eb(c,a))||f.push(c);return f}function th(n){var t=n.length;return t?n[r$(0,t-1)]:D}function tp(n,t){return eS(rD(n),tw(t,0,n.length))}function t8(n){return eS(rD(n))}function tv(n,t,r){(r===D||eJ(n[t],r))&&(r!==D||t in n)||td(n,t,r)}function t$(n,t,r){var e=n[t];uN.call(n,t)&&eJ(e,r)&&(r!==D||t in n)||td(n,t,r)}function tg(n,t){for(var r=n.length;r--;)if(eJ(n[r][0],t))return r;return -1}function t_(n,t,r,e){return iT(n,function(n,u,i){t(e,n,r(n),i)}),e}function ty(n,t){return n&&r3(t,uy(t),n)}function td(n,t,r){"__proto__"==t&&ia?ia(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function tb(n,t){for(var r=-1,e=t.length,u=uL(e),i=null==n;++r<e;)u[r]=i?D:ug(n,t[r]);return u}function tw(n,t,r){return n==n&&(r!==D&&(n=n<=r?n:r),t!==D&&(n=n>=t?n:t)),n}function tm(n,t,e,u,i,o){var f,a=t&P,c=2&t;if(e&&(f=i?e(n,u,i,o):e(n)),f!==D)return f;if(!uu(n))return n;var l=oW(n);if(l){if(f=(s=n,h=s.length,p=new s.constructor(h),h&&"string"==typeof s[0]&&uN.call(s,"index")&&(p.index=s.index,p.input=s.input),p),!a)return rD(n,f)}else{var s,h,p,v,$,g,_,y,d,b=iK(n),w=b==nc||b==nl;if(oC(n))return r7(n,a);if(b==n8||b==nu||w&&!i){if(f=c||w?{}:ey(n),!a){return c?(v=n,$=(y=f,d=n,y&&r3(d,ud(d),y)),r3(v,iZ(v),$)):(g=n,_=ty(f,n),r3(g,iq(g),_))}}else{if(!tL[b])return i?n:{};f=function n(t,r,e){var u,i,o,f,a,c=t.constructor;switch(r){case nw:return r2(t);case no:case nf:return new c(+t);case nm:return u=t,i=e,new u.constructor(i?r2(u.buffer):u.buffer,u.byteOffset,u.byteLength);case n0:case nx:case nj:case n1:case nA:case nk:case nI:case nO:case nz:return rU(t,e);case ns:return new c;case nh:case n_:return new c(t);case n$:return(f=new(o=t).constructor(o.source,nV.exec(o))).lastIndex=o.lastIndex,f;case ng:return new c;case ny:return a=t,iC?uU(iC.call(a)):{}}}(n,b,a)}}o||(o=new tl);var m=o.get(n);if(m)return m;o.set(n,f),oU(n)?n.forEach(function(r){f.add(tm(r,t,e,r,n,o))}):o7(n)&&n.forEach(function(r,u){f.set(u,tm(r,t,e,u,n,o))});var x=4&t?c?es:el:c?ud:uy,j=l?D:x(n);return r(j||n,function(r,u){j&&(r=n[u=r]),t$(f,u,tm(r,t,e,u,n,o))}),f}function t0(n,t,r){var e=r.length;if(null==n)return!e;for(n=uU(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===D&&!(u in n)||!i(o))return!1}return!0}function tx(n,t,r){if("function"!=typeof n)throw new u9(M);return iH(function(){n.apply(D,r)},t)}function tj(n,t,r,e){var u=-1,i=o,c=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=a(t,A(r))),e?(i=f,c=!1):t.length>=200&&(i=I,c=!1,t=new tc(t));n:for(;++u<l;){var p=n[u],v=null==r?p:r(p);if(p=e||0!==p?p:0,c&&v==v){for(var $=h;$--;)if(t[$]===v)continue n;s.push(p)}else i(t,v,e)||s.push(p)}return s}function t1(n,t){var r=!0;return iT(n,function(n,e,u){return r=!!t(n,e,u)}),r}function tA(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===D?o==o&&!uc(o):r(o,f)))var f=o,a=i}return a}function tO(n,t){var r=[];return iT(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function tS(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=ed),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?tS(f,t-1,r,e,u):c(u,f):e||(u[u.length]=f)}return u}function tC(n,t){return n&&iD(n,t,uy)}function t2(n,t){return n&&i3(n,t,uy)}function tU(n,t){return i(t,function(t){return ut(n[t])})}function tT(n,t){t=rC(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[eR(t[r++])];return r&&r==e?n:D}function t9(n,t,r){var e=t(n);return oW(n)?e:c(e,r(n))}function t3(n){var t;return null==n?n===D?nd:np:io&&io in uU(n)?function n(t){var r=uN.call(t,io),e=t[io];try{t[io]=D;var u=!0}catch(i){}var o=uZ.call(t);return u&&(r?t[io]=e:delete t[io]),o}(n):(t=n,uZ.call(t))}function t5(n,t){return n>t}function tK(n,t){return null!=n&&uN.call(n,t)}function tY(n,t){return null!=n&&t in uU(n)}function tQ(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,c=i,l=uL(i),s=1/0,h=[];c--;){var p=n[c];c&&t&&(p=a(p,A(t))),s=id(p.length,s),l[c]=!r&&(t||u>=120&&p.length>=120)?new tc(c&&p):D}p=n[0];var v=-1,$=l[0];n:for(;++v<u&&h.length<s;){var g=p[v],_=t?t(g):g;if(g=r||0!==g?g:0,!($?I($,_):e(h,_,r))){for(c=i;--c;){var y=l[c];if(!(y?I(y,_):e(n[c],_,r)))continue n}$&&$.push(_),h.push(g)}}return h}function tX(t,r,e){r=rC(r,t);var u=null==(t=ek(t,r))?t:t[eR(e7(r))];return null==u?D:n(u,t,e)}function rn(n){return ui(n)&&t3(n)==nu}function rt(n,t,r,e,u){return n===t||(null!=n&&null!=t&&(ui(n)||ui(t))?function n(t,r,e,u,i,o){var f=oW(t),a=oW(r),c=f?ni:iK(t),l=a?ni:iK(r);c=c==nu?n8:c,l=l==nu?n8:l;var s=c==n8,h=l==n8,p=c==l;if(p&&oC(t)){if(!oC(r))return!1;f=!0,s=!1}if(p&&!s)return o||(o=new tl),f||oB(t)?ea(t,r,e,u,i,o):function n(t,r,e,u,i,o,f){switch(e){case nm:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)break;t=t.buffer,r=r.buffer;case nw:return!(t.byteLength!=r.byteLength||!o(new uY(t),new uY(r)));case no:case nf:case nh:return eJ(+t,+r);case na:return t.name==r.name&&t.message==r.message;case n$:case n_:return t==r+"";case ns:var a=E;case ng:var c=1&u;if(a||(a=C),t.size!=r.size&&!c)break;var l=f.get(t);if(l)return l==r;u|=q,f.set(t,r);var s=ea(a(t),a(r),u,i,o,f);return f.delete(t),s;case ny:if(iC)return iC.call(t)==iC.call(r)}return!1}(t,r,c,e,u,i,o);if(!(1&e)){var v=s&&uN.call(t,"__wrapped__"),$=h&&uN.call(r,"__wrapped__");if(v||$){var g=v?t.value():t,_=$?r.value():r;return o||(o=new tl),i(g,_,e,u,o)}}return!!p&&(o||(o=new tl),function n(t,r,e,u,i,o){var f=1&e,a=el(t),c=a.length;if(c!=el(r).length&&!f)return!1;for(var l=c;l--;){var s=a[l];if(!(f?s in r:uN.call(r,s)))return!1}var h=o.get(t),p=o.get(r);if(h&&p)return h==r&&p==t;var v=!0;o.set(t,r),o.set(r,t);for(var $=f;++l<c;){var g=t[s=a[l]],_=r[s];if(u)var y=f?u(_,g,s,r,t,o):u(g,_,s,t,r,o);if(!(y===D?g===_||i(g,_,e,u,o):y)){v=!1;break}$||($="constructor"==s)}if(v&&!$){var d=t.constructor,b=r.constructor;d!=b&&"constructor"in t&&"constructor"in r&&!("function"==typeof d&&d instanceof d&&"function"==typeof b&&b instanceof b)&&(v=!1)}return o.delete(t),o.delete(r),v}(t,r,e,u,i,o))}(n,t,r,e,rt,u):n!=n&&t!=t)}function rr(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=uU(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){var a=(f=r[u])[0],c=n[a],l=f[1];if(o&&f[2]){if(c===D&&!(a in n))return!1}else{var s=new tl;if(e)var h=e(c,l,a,n,t,s);if(!(h===D?rt(l,c,1|q,e,s):h))return!1}}return!0}function re(n){var t;return!(!uu(n)||(t=n,uq&&uq in t))&&(ut(n)?uG:nJ).test(eE(n))}function ru(n){return"function"==typeof n?n:null==n?u1:"object"==typeof n?oW(n)?rc(n[0],n[1]):ra(n):uO(n)}function ri(n){if(!ex(n))return i_(n);var t=[];for(var r in uU(n))uN.call(n,r)&&"constructor"!=r&&t.push(r);return t}function ro(n,t){return n<t}function rf(n,t){var r=-1,e=eY(n)?uL(n.length):[];return iT(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function ra(n){var t=e$(n);return 1==t.length&&t[0][2]?e1(t[0][0],t[0][1]):function(r){return r===n||rr(r,n,t)}}function rc(n,t){return em(n)&&ej(t)?e1(eR(n),t):function(r){var e=ug(r,n);return e===D&&e===t?u_(r,n):rt(t,e,1|q)}}function rl(n,t,r,e,u){n!==t&&iD(t,function(i,o){if(u||(u=new tl),uu(i))!function n(t,r,e,u,i,o,f){var a=eI(t,e),c=eI(r,e),l=f.get(c);if(l)return tv(t,e,l),D;var s=o?o(a,c,e+"",t,r,f):D,h=s===D;if(h){var p=oW(c),v=!p&&oC(c),$=!p&&!v&&oB(c);s=c,p||v||$?oW(a)?s=a:eQ(a)?s=rD(a):v?(h=!1,s=r7(c,!0)):$?(h=!1,s=rU(c,!0)):s=[]:uf(c)||o6(c)?(s=a,o6(a)?s=uv(a):uu(a)&&!ut(a)||(s=ey(c))):h=!1}h&&(f.set(c,s),i(s,c,u,o,f),f.delete(c)),tv(t,e,s)}(n,t,o,r,rl,e,u);else{var f=e?e(eI(n,o),i,o+"",n,t,u):D;f===D&&(f=i),tv(n,o,f)}},ud)}function rs(n,t){var r=n.length;if(r)return eb(t+=t<0?r:0,r)?n[t]:D}function rh(n,t,r){t=t.length?a(t,function(n){return oW(n)?function(t){return tT(t,1===n.length?n[0]:n)}:n}):[u1];var e=-1;return t=a(t,A(e8())),function n(t,r){var e=t.length;for(t.sort(r);e--;)t[e]=t[e].value;return t}(rf(n,function(n,r,u){return{criteria:a(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return function n(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=rB(i[u],o[u]);if(c){if(u>=a)return c;return c*("desc"==e[u]?-1:1)}}return t.index-r.index}(n,t,r)})}function rp(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=tT(n,o);r(f,o)&&rb(i,rC(o,n),f)}return i}function r8(n,t,r,e){var u=e?g:$,i=-1,o=t.length,f=n;for(n===t&&(t=rD(t)),r&&(f=a(n,A(r)));++i<o;)for(var c=0,l=t[i],s=r?r(l):l;(c=u(f,s,c,e))>-1;)f!==n&&ie.call(f,c,1),ie.call(n,c,1);return n}function rv(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;eb(u)?ie.call(n,u,1):rO(n,u)}}return n}function r$(n,t){return n+ip(im()*(t-n+1))}function rg(n,t){var r="";if(!n||t<1||t>Q)return r;do t%2&&(r+=n),(t=ip(t/2))&&(n+=n);while(t);return r}function r_(n,t){return iJ(eA(n,t,u1),n+"")}function ry(n){return th(uw(n))}function rd(n,t){var r=uw(n);return eS(r,tw(t,0,r.length))}function rb(n,t,r,e){if(!uu(n))return n;t=rC(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=eR(t[u]),c=r;if("__proto__"===a||"constructor"===a||"prototype"===a)break;if(u!=o){var l=f[a];(c=e?e(l,a,f):D)===D&&(c=uu(l)?l:eb(t[u+1])?[]:{})}t$(f,a,c),f=f[a]}return n}function rw(n){return eS(uw(n))}function rm(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=uL(u);++e<u;)i[e]=n[e+t];return i}function r0(n,t){var r;return iT(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function rx(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t==t&&u<=nr){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!uc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return rj(n,t,u1,r)}function rj(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!=t,f=null===t,a=uc(t),c=t===D;u<i;){var l=ip((u+i)/2),s=r(n[l]),h=s!==D,p=null===s,v=s==s,$=uc(s);if(o)var g=e||v;else g=c?v&&(e||h):f?v&&h&&(e||!p):a?v&&h&&!p&&(e||!$):!p&&!$&&(e?s<=t:s<t);g?u=l+1:i=l}return id(i,nt)}function r1(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!eJ(f,a)){var a=f;i[u++]=0===o?0:o}}return i}function rA(n){return"number"==typeof n?n:uc(n)?X:+n}function rk(n){if("string"==typeof n)return n;if(oW(n))return a(n,rk)+"";if(uc(n))return i4?i4.call(n):"";var t=n+"";return"0"==t&&1/n==-Y?"-0":t}function rI(n,t,r){var e=-1,u=o,i=n.length,a=!0,c=[],l=c;if(r)a=!1,u=f;else if(i>=200){var s=t?null:iN(n);if(s)return C(s);a=!1,u=I,l=new tc}else l=t?[]:c;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,a&&p==p){for(var v=l.length;v--;)if(l[v]===p)continue n;t&&l.push(p),c.push(h)}else u(l,p,r)||(l!==c&&l.push(p),c.push(h))}return c}function rO(n,t){return t=rC(t,n),null==(n=ek(n,t))||delete n[eR(e7(t))]}function rz(n,t,r,e){return rb(n,t,r(tT(n,t)),e)}function rS(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?rm(n,e?0:i,e?i+1:u):rm(n,e?i+1:0,e?u:i)}function rR(n,t){var r=n;return r instanceof ti&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,c([n],t.args))},r)}function rE(n,t,r){var e=n.length;if(e<2)return e?rI(n[0]):[];for(var u=-1,i=uL(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=tj(i[u]||o,n[f],t,r));return rI(tS(i,1),t,r)}function r6(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:D);return o}function rW(n){return eQ(n)?n:[]}function rL(n){return"function"==typeof n?n:u1}function rC(n,t){return oW(n)?n:em(n,t)?[n]:iY(u$(n))}function r4(n,t,r){var e=n.length;return r=r===D?e:r,!t&&r>=e?n:rm(n,t,r)}function r7(n,t){if(t)return n.slice();var r=n.length,e=uQ?uQ(r):new n.constructor(r);return n.copy(e),e}function r2(n){var t=new n.constructor(n.byteLength);return new uY(t).set(new uY(n)),t}function rU(n,t){return new n.constructor(t?r2(n.buffer):n.buffer,n.byteOffset,n.length)}function rB(n,t){if(n!==t){var r=n!==D,e=null===n,u=n==n,i=uc(n),o=t!==D,f=null===t,a=t==t,c=uc(t);if(!f&&!c&&!i&&n>t||i&&o&&a&&!f&&!c||e&&o&&a||!r&&a||!u)return 1;if(!e&&!i&&!c&&n<t||c&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!a)return -1}return 0}function rT(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,a=t.length,c=iy(i-o,0),l=uL(a+c),s=!e;++f<a;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;c--;)l[f++]=n[u++];return l}function r9(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,a=-1,c=t.length,l=iy(i-f,0),s=uL(l+c),h=!e;++u<l;)s[u]=n[u];for(var p=u;++a<c;)s[p+a]=t[a];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function rD(n,t){var r=-1,e=n.length;for(t||(t=uL(e));++r<e;)t[r]=n[r];return t}function r3(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],a=e?e(r[f],n[f],f,r,n):D;a===D&&(a=n[f]),u?td(r,f,a):t$(r,f,a)}return r}function r5(n,r){return function(e,u){var i=oW(e)?t:t_,o=r?r():{};return i(e,n,e8(u,2),o)}}function rM(n){return r_(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:D,o=u>2?r[2]:D;for(i=n.length>3&&"function"==typeof i?(u--,i):D,o&&ew(r[0],r[1],o)&&(i=u<3?D:i,u=1),t=uU(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function rF(n,t){return function(r,e){if(null==r)return r;if(!eY(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=uU(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function rN(n){return function(t,r,e){for(var u=-1,i=uU(t),o=e(t),f=o.length;f--;){var a=o[n?f:++u];if(!1===r(i[a],a,i))break}return t}}function rP(n){return function(t){t=u$(t);var r=R(t)?B(t):D,e=r?r[0]:t.charAt(0),u=r?r4(r,1).join(""):t.slice(1);return e[n]()+u}}function rq(n){return function(t){return l(ux(u0(t).replace(tk,"")),n,"")}}function rZ(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=i7(n.prototype),e=n.apply(r,t);return uu(e)?e:r}}function rK(n){return function(t,r,e){var u=uU(t);if(!eY(t)){var i=e8(r,3);t=uy(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:D}}function rV(n){return ec(function(t){var r=t.length,e=r,u=tu.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new u9(M);if(u&&!o&&"wrapper"==eh(i))var o=new tu([],!0)}for(e=o?e:r;++e<r;){var f=eh(i=t[e]),a="wrapper"==f?iP(i):D;o=a&&e0(a[0])&&a[1]==(128|K|G|256)&&!a[4].length&&1==a[9]?o[eh(a[0])].apply(o,a[3]):1==i.length&&e0(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&oW(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function rG(n,t,r,e,u,i,o,f,a,c){function l(){for(var _=arguments.length,y=uL(_),d=_;d--;)y[d]=arguments[d];if(v)var b=ep(l),w=function n(t,r){for(var e=t.length,u=0;e--;)t[e]===r&&++u;return u}(y,b);if(e&&(y=rT(y,e,u,v)),i&&(y=r9(y,i,o,v)),_-=w,v&&_<c)return et(n,t,rG,l.placeholder,r,y,L(y,b),f,a,c-_);var m=h?r:this,x=p?m[n]:n;return _=y.length,f?y=function n(t,r){for(var e=t.length,u=id(r.length,e),i=rD(t);u--;){var o=r[u];t[u]=eb(o,e)?i[o]:D}return t}(y,f):$&&_>1&&y.reverse(),s&&a<_&&(y.length=a),this&&this!==tB&&this instanceof l&&(x=g||rZ(x)),x.apply(m,y)}var s=128&t,h=1&t,p=2&t,v=t&(K|V),$=512&t,g=p?D:rZ(n);return l}function rH(n,t){return function(r,e){var u,i,o,f;return u=r,i=n,o=t(e),f={},tC(u,function(n,t,r){i(f,o(n),t,r)}),f}}function rJ(n,t){return function(r,e){var u;if(r===D&&e===D)return t;if(r!==D&&(u=r),e!==D){if(u===D)return e;"string"==typeof r||"string"==typeof e?(r=rk(r),e=rk(e)):(r=rA(r),e=rA(e)),u=n(r,e)}return u}}function rY(t){return ec(function(r){return r=a(r,A(e8())),r_(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function rQ(n,t){var r=(t=t===D?" ":rk(t)).length;if(r<2)return r?rg(t,n):t;var e=rg(t,ih(n/U(t)));return R(t)?r4(B(e),0,n).join(""):e.slice(0,n)}function rX(n){return function(t,r,e){return e&&"number"!=typeof e&&ew(t,r,e)&&(r=e=D),t=us(t),r===D?(r=t,t=0):r=us(r),e=e===D?t<r?1:-1:us(e),function n(t,r,e,u){for(var i=-1,o=iy(ih((r-t)/(e||1)),0),f=uL(o);o--;)f[u?o:++i]=t,t+=e;return f}(t,r,e,n)}}function en(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=u8(t),r=u8(r)),n(t,r)}}function et(n,t,r,e,u,i,o,f,a,c){var l=t&K,s=l?o:D,h=l?D:o,p=l?i:D,v=l?D:i;t|=l?G:H,(t&=~(l?H:G))&Z||(t&=-4);var $=[n,t,u,p,s,v,h,f,a,c],g=r.apply(D,$);return e0(n)&&iG(g,$),g.placeholder=e,eO(g,n,t)}function er(n){var t=u2[n];return function(n,r){if(n=u8(n),(r=null==r?0:id(uh(r),292))&&i$(n)){var e=(u$(n)+"e").split("e");return+((e=(u$(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return t(n)}}function ee(n){return function(t){var r,e,u,i,o,f=iK(t);return f==ns?E(t):f==ng?(r=t,e=-1,u=Array(r.size),r.forEach(function(n){u[++e]=[n,n]}),u):(i=t,o=n(t),a(o,function(n){return[n,i[n]]}))}}function eu(t,r,e,u,i,o,f,a){var c=2&r;if(!c&&"function"!=typeof t)throw new u9(M);var l=u?u.length:0;if(l||(r&=~(G|H),u=i=D),f=f===D?f:iy(uh(f),0),a=a===D?a:uh(a),l-=i?i.length:0,r&H){var s=u,h=i;u=i=D}var p=c?D:iP(t),v=[t,r,e,u,i,s,h,o,f,a];if(p&&function n(t,r){var e=t[1],u=r[1],i=e|u,o=i<131,f=128==u&&e==K||128==u&&256==e&&t[7].length<=r[8]||384==u&&r[7].length<=r[8]&&e==K;if(!o&&!f)return t;1&u&&(t[2]=r[2],i|=1&e?0:Z);var a=r[3];if(a){var c=t[3];t[3]=c?rT(c,a,r[4]):a,t[4]=c?L(t[3],N):r[4]}return(a=r[5])&&(c=t[5],t[5]=c?r9(c,a,r[6]):a,t[6]=c?L(t[5],N):r[6]),(a=r[7])&&(t[7]=a),128&u&&(t[8]=null==t[8]?r[8]:id(t[8],r[8])),null==t[9]&&(t[9]=r[9]),t[0]=r[0],t[1]=i,t}(v,p),t=v[0],r=v[1],e=v[2],u=v[3],i=v[4],(a=v[9]=v[9]===D?c?0:t.length:iy(v[9]-l,0))||!(r&(K|V))||(r&=~(K|V)),r&&1!=r)k=r==K||r==V?function t(r,e,u){function i(){for(var t=arguments.length,f=uL(t),a=t,c=ep(i);a--;)f[a]=arguments[a];var l=t<3&&f[0]!==c&&f[t-1]!==c?[]:L(f,c);return(t-=l.length)<u?et(r,e,rG,i.placeholder,D,f,l,D,D,u-t):n(this&&this!==tB&&this instanceof i?o:r,this,f)}var o=rZ(r);return i}(t,r,a):r!=G&&r!=(1|G)||i.length?rG.apply(D,v):($=t,g=r,_=e,y=u,d=1&g,b=rZ($),function t(){for(var r=-1,e=arguments.length,u=-1,i=y.length,o=uL(i+e),f=this&&this!==tB&&this instanceof t?b:$;++u<i;)o[u]=y[u];for(;e--;)o[u++]=arguments[++r];return n(f,d?_:this,o)});else var $,g,_,y,d,b,w,m,x,j,A,k=(w=t,m=r,x=e,j=1&m,A=rZ(w),function n(){return(this&&this!==tB&&this instanceof n?A:w).apply(j?x:this,arguments)});return eO((p?i5:iG)(k,v),t,r)}function ei(n,t,r,e){return n===D||eJ(n,u5[r])&&!uN.call(e,r)?t:n}function eo(n,t,r,e,u,i){return uu(n)&&uu(t)&&(i.set(t,n),rl(n,t,D,eo,i),i.delete(t)),n}function ef(n){return uf(n)?D:n}function ea(n,t,r,e,u,i){var o=1&r,f=n.length,a=t.length;if(f!=a&&!(o&&a>f))return!1;var c=i.get(n),l=i.get(t);if(c&&l)return c==t&&l==n;var s=-1,p=!0,v=r&q?new tc:D;for(i.set(n,t),i.set(t,n);++s<f;){var $=n[s],g=t[s];if(e)var _=o?e(g,$,s,t,n,i):e($,g,s,n,t,i);if(_!==D){if(_)continue;p=!1;break}if(v){if(!h(t,function(n,t){if(!I(v,t)&&($===n||u($,n,r,e,i)))return v.push(t)})){p=!1;break}}else if($!==g&&!u($,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function ec(n){return iJ(eA(n,D,eC),n+"")}function el(n){return t9(n,uy,iq)}function es(n){return t9(n,ud,iZ)}function eh(n){for(var t=n.name+"",r=iz[t],e=uN.call(iz,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function ep(n){return(uN.call(tr,"placeholder")?tr:n).placeholder}function e8(){var n=tr.iteratee||uA;return n=n===uA?ru:n,arguments.length?n(arguments[0],arguments[1]):n}function ev(n,t){var r,e,u=n.__data__;return(r=t,e=typeof r,"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?u["string"==typeof t?"string":"hash"]:u.map}function e$(n){for(var t=uy(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,ej(u)]}return t}function eg(n,t){var r,e,u=(r=n,e=t,null==r?D:r[e]);return re(u)?u:D}function e_(n,t,r){t=rC(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=eR(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&ue(u)&&eb(o,u)&&(oW(n)||o6(n))}function ey(n){return"function"!=typeof n.constructor||ex(n)?{}:i7(uX(n))}function ed(n){return oW(n)||o6(n)||!!(iu&&n&&n[iu])}function eb(n,t){var r=typeof n;return!!(t=null==t?Q:t)&&("number"==r||"symbol"!=r&&nQ.test(n))&&n>-1&&n%1==0&&n<t}function ew(n,t,r){if(!uu(r))return!1;var e=typeof t;return!!("number"==e?eY(r)&&eb(t,r.length):"string"==e&&t in r)&&eJ(r[t],n)}function em(n,t){if(oW(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!uc(n))||nB.test(n)||!nU.test(n)||null!=t&&n in uU(t)}function e0(n){var t=eh(n),r=tr[t];if("function"!=typeof r||!(t in ti.prototype))return!1;if(n===r)return!0;var e=iP(r);return!!e&&n===e[0]}function ex(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||u5)}function ej(n){return n==n&&!uu(n)}function e1(n,t){return function(r){return null!=r&&r[n]===t&&(t!==D||n in uU(r))}}function eA(t,r,e){return r=iy(r===D?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=iy(u.length-r,0),f=uL(o);++i<o;)f[i]=u[r+i];i=-1;for(var a=uL(r+1);++i<r;)a[i]=u[i];return a[r]=e(f),n(t,this,a)}}function ek(n,t){return t.length<2?n:tT(n,rm(t,0,-1))}function eI(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function eO(n,t,e){var u,i,f,a,c=t+"";return iJ(n,function n(t,r){var e=r.length;if(!e)return t;var u=e-1;return r[u]=(e>1?"& ":"")+r[u],r=r.join(e>2?", ":" "),t.replace(nM,"{\n/* [wrapped with "+r+"] */\n")}(c,(f=(i=(u=c).match(nF))?i[1].split(nN):[],a=e,r(ne,function(n){var t="_."+n[0];a&n[1]&&!o(f,t)&&f.push(t)}),f.sort())))}function ez(n){var t=0,r=0;return function(){var e=ib(),u=16-(e-r);if(r=e,u>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(D,arguments)}}function eS(n,t){var r=-1,e=n.length,u=e-1;for(t=t===D?e:t;++r<t;){var i=r$(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function eR(n){if("string"==typeof n||uc(n))return n;var t=n+"";return"0"==t&&1/n==-Y?"-0":t}function eE(n){if(null!=n){try{return uF.call(n)}catch(t){}try{return n+""}catch(r){}}return""}function e6(n){if(n instanceof ti)return n.clone();var t=new tu(n.__wrapped__,n.__chain__);return t.__actions__=rD(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function eW(n,t,r){var e=null==n?0:n.length;if(!e)return -1;var u=null==r?0:uh(r);return u<0&&(u=iy(e+u,0)),v(n,e8(t,3),u)}function eL(n,t,r){var e=null==n?0:n.length;if(!e)return -1;var u=e-1;return r!==D&&(u=uh(r),u=r<0?iy(e+u,0):id(u,e-1)),v(n,e8(t,3),u,!0)}function eC(n){return(null==n?0:n.length)?tS(n,1):[]}function e4(n){return n&&n.length?n[0]:D}function e7(n){var t=null==n?0:n.length;return t?n[t-1]:D}function e2(n,t){return n&&n.length&&t&&t.length?r8(n,t):n}function eU(n){return null==n?n:i0.call(n)}function eB(n,t){return rx(n,t)}function eT(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(eQ(n))return t=iy(n.length,t),!0}),x(t,function(t){return a(n,d(t))})}function e9(t,r){if(!t||!t.length)return[];var e=eT(t);return null==r?e:a(e,function(t){return n(r,D,t)})}function eD(n){var t=tr(n);return t.__chain__=!0,t}function e3(n,t){return t(n),n}function e5(n,t){return t(n)}function eM(n,t){return(oW(n)?r:iT)(n,e8(t,3))}function eF(n,t){return(oW(n)?e:i9)(n,e8(t,3))}function eN(n,t){return(oW(n)?a:rf)(n,e8(t,3))}function eP(n,t,r){return t=r?D:t,t=n&&null==t?n.length:t,eu(n,128,D,D,D,D,t)}function eq(n,t){var r;if("function"!=typeof t)throw new u9(M);return n=uh(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=D),r}}function eZ(n,t,r){t=r?D:t;var e=eu(n,K,D,D,D,D,D,t);return e.placeholder=eZ.placeholder,e}function eK(n,t,r){t=r?D:t;var e=eu(n,V,D,D,D,D,D,t);return e.placeholder=eK.placeholder,e}function eV(n,t,r){function e(t){var r=a,e=c;return a=c=D,v=t,s=n.apply(e,r)}function u(n){var r=n-p,e=n-v;return p===D||r>=t||r<0||g&&e>=l}function i(){var n,r,e,f,a=o0();return u(a)?o(a):(h=iH(i,(r=(n=a)-p,e=n-v,f=t-r,g?id(f,l-e):f)),D)}function o(n){return h=D,_&&a?e(n):(a=c=D,s)}function f(){var n,r=o0(),o=u(r);if(a=arguments,c=this,p=r,o){if(h===D)return v=n=p,h=iH(i,t),$?e(n):s;if(g)return iF(h),h=iH(i,t),e(p)}return h===D&&(h=iH(i,t)),s}var a,c,l,s,h,p,v=0,$=!1,g=!1,_=!0;if("function"!=typeof n)throw new u9(M);return t=u8(t)||0,uu(r)&&($=!!r.leading,l=(g="maxWait"in r)?iy(u8(r.maxWait)||0,t):l,_="trailing"in r?!!r.trailing:_),f.cancel=function n(){h!==D&&iF(h),v=0,a=p=c=h=D},f.flush=function n(){return h===D?s:o(o0())},f}function eG(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new u9(M);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(eG.Cache||ta),r}function eH(n){if("function"!=typeof n)throw new u9(M);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function eJ(n,t){return n===t||n!=n&&t!=t}function eY(n){return null!=n&&ue(n.length)&&!ut(n)}function eQ(n){return ui(n)&&eY(n)}function eX(n,t){return rt(n,t)}function un(n){if(!ui(n))return!1;var t=t3(n);return t==na||"[object DOMException]"==t||"string"==typeof n.message&&"string"==typeof n.name&&!uf(n)}function ut(n){if(!uu(n))return!1;var t=t3(n);return t==nc||t==nl||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ur(n){return"number"==typeof n&&n==uh(n)}function ue(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Q}function uu(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function ui(n){return null!=n&&"object"==typeof n}function uo(n){return"number"==typeof n||ui(n)&&t3(n)==nh}function uf(n){if(!ui(n)||t3(n)!=n8)return!1;var t=uX(n);if(null===t)return!0;var r=uN.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&uF.call(r)==uK}function ua(n){return"string"==typeof n||!oW(n)&&ui(n)&&t3(n)==n_}function uc(n){return"symbol"==typeof n||ui(n)&&t3(n)==ny}function ul(n){if(!n)return[];if(eY(n))return ua(n)?B(n):rD(n);if(ii&&n[ii])return function n(t){for(var r,e=[];!(r=t.next()).done;)e.push(r.value);return e}(n[ii]());var t=iK(n);return(t==ns?E:t==ng?C:uw)(n)}function us(n){return n?(n=u8(n))===Y||n===-Y?(n<0?-1:1)*17976931348623157e292:n==n?n:0:0===n?n:0}function uh(n){var t=us(n),r=t%1;return t==t?r?t-r:t:0}function up(n){return n?tw(uh(n),0,nn):0}function u8(n){if("number"==typeof n)return n;if(uc(n))return X;if(uu(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=uu(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=j(n);var r=nH.test(n);return r||nY.test(n)?t7(n.slice(2),r?2:8):nG.test(n)?X:+n}function uv(n){return r3(n,ud(n))}function u$(n){return null==n?"":rk(n)}function ug(n,t,r){var e=null==n?D:tT(n,t);return e===D?r:e}function u_(n,t){return null!=n&&e_(n,t,tY)}function uy(n){return eY(n)?ts(n):ri(n)}function ud(n){return eY(n)?ts(n,!0):function n(t){if(!uu(t))return function n(t){var r=[];if(null!=t)for(var e in uU(t))r.push(e);return r}(t);var r=ex(t),e=[];for(var u in t)("constructor"!=u||!r&&uN.call(t,u))&&e.push(u);return e}(n)}function ub(n,t){if(null==n)return{};var r=a(es(n),function(n){return[n]});return t=e8(t),rp(n,r,function(n,r){return t(n,r[0])})}function uw(n){return null==n?[]:k(n,uy(n))}function um(n){return fo(u$(n).toLowerCase())}function u0(n){return(n=u$(n))&&n.replace(nX,tV).replace(tI,"")}function ux(n,t,r){var e,u,i;return n=u$(n),(t=r?D:t)===D?(e=n,tR.test(e))?(u=n).match(tz)||[]:(i=n).match(nP)||[]:n.match(t)||[]}function uj(n){return function(){return n}}function u1(n){return n}function uA(n){return ru("function"==typeof n?n:tm(n,P))}function uk(n,t,e){var u=uy(t),i=tU(t,u);null!=e||uu(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=tU(t,uy(t)));var o=!(uu(e)&&"chain"in e&&!e.chain),f=ut(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=rD(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,c([this.value()],arguments))})}),n}function uI(){}function uO(n){var t;return em(n)?d(eR(n)):(t=n,function(n){return tT(n,t)})}function uz(){return[]}function uS(){return!1}function uR(){return{}}function uE(){return""}function u6(){return!0}var uW,uL=(n5=null==n5?tB:tJ.defaults(tB.Object(),n5,tJ.pick(tB,tE))).Array,uC=n5.Date,u4=n5.Error,u7=n5.Function,u2=n5.Math,uU=n5.Object,uB=n5.RegExp,uT=n5.String,u9=n5.TypeError,uD=uL.prototype,u3=u7.prototype,u5=uU.prototype,uM=n5["__core-js_shared__"],uF=u3.toString,uN=u5.hasOwnProperty,uP=0,uq=(uW=/[^.]+$/.exec(uM&&uM.keys&&uM.keys.IE_PROTO||""))?"Symbol(src)_1."+uW:"",uZ=u5.toString,uK=uF.call(uU),uV=tB._,uG=uB("^"+uF.call(uN).replace(n9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uH=tD?n5.Buffer:D,uJ=n5.Symbol,uY=n5.Uint8Array,uQ=uH?uH.allocUnsafe:D,uX=W(uU.getPrototypeOf,uU),it=uU.create,ir=u5.propertyIsEnumerable,ie=uD.splice,iu=uJ?uJ.isConcatSpreadable:D,ii=uJ?uJ.iterator:D,io=uJ?uJ.toStringTag:D,ia=function(){try{var n=eg(uU,"defineProperty");return n({},"",{}),n}catch(t){}}(),ic=n5.clearTimeout!==tB.clearTimeout&&n5.clearTimeout,il=uC&&uC.now!==tB.Date.now&&uC.now,is=n5.setTimeout!==tB.setTimeout&&n5.setTimeout,ih=u2.ceil,ip=u2.floor,i8=uU.getOwnPropertySymbols,iv=uH?uH.isBuffer:D,i$=n5.isFinite,ig=uD.join,i_=W(uU.keys,uU),iy=u2.max,id=u2.min,ib=uC.now,iw=n5.parseInt,im=u2.random,i0=uD.reverse,ix=eg(n5,"DataView"),ij=eg(n5,"Map"),i1=eg(n5,"Promise"),iA=eg(n5,"Set"),ik=eg(n5,"WeakMap"),iI=eg(uU,"create"),iO=ik&&new ik,iz={},iS=eE(ix),iR=eE(ij),iE=eE(i1),i6=eE(iA),iW=eE(ik),iL=uJ?uJ.prototype:D,iC=iL?iL.valueOf:D,i4=iL?iL.toString:D,i7=function(){function n(){}return function(t){if(!uu(t))return{};if(it)return it(t);n.prototype=t;var r=new n;return n.prototype=D,r}}();tr.templateSettings={escape:n4,evaluate:n7,interpolate:n2,variable:"",imports:{_:tr}},tr.prototype=te.prototype,tr.prototype.constructor=tr,tu.prototype=i7(te.prototype),tu.prototype.constructor=tu,ti.prototype=i7(te.prototype),ti.prototype.constructor=ti,to.prototype.clear=function n(){this.__data__=iI?iI(null):{},this.size=0},to.prototype.delete=function n(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},to.prototype.get=function n(t){var r=this.__data__;if(iI){var e=r[t];return e===F?D:e}return uN.call(r,t)?r[t]:D},to.prototype.has=function n(t){var r=this.__data__;return iI?r[t]!==D:uN.call(r,t)},to.prototype.set=function n(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=iI&&r===D?F:r,this},tf.prototype.clear=function n(){this.__data__=[],this.size=0},tf.prototype.delete=function n(t){var r=this.__data__,e=tg(r,t);return!(e<0)&&(e==r.length-1?r.pop():ie.call(r,e,1),--this.size,!0)},tf.prototype.get=function n(t){var r=this.__data__,e=tg(r,t);return e<0?D:r[e][1]},tf.prototype.has=function n(t){return tg(this.__data__,t)>-1},tf.prototype.set=function n(t,r){var e=this.__data__,u=tg(e,t);return u<0?(++this.size,e.push([t,r])):e[u][1]=r,this},ta.prototype.clear=function n(){this.size=0,this.__data__={hash:new to,map:new(ij||tf),string:new to}},ta.prototype.delete=function n(t){var r=ev(this,t).delete(t);return this.size-=r?1:0,r},ta.prototype.get=function n(t){return ev(this,t).get(t)},ta.prototype.has=function n(t){return ev(this,t).has(t)},ta.prototype.set=function n(t,r){var e=ev(this,t),u=e.size;return e.set(t,r),this.size+=e.size==u?0:1,this},tc.prototype.add=tc.prototype.push=function n(t){return this.__data__.set(t,F),this},tc.prototype.has=function n(t){return this.__data__.has(t)},tl.prototype.clear=function n(){this.__data__=new tf,this.size=0},tl.prototype.delete=function n(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},tl.prototype.get=function n(t){return this.__data__.get(t)},tl.prototype.has=function n(t){return this.__data__.has(t)},tl.prototype.set=function n(t,r){var e=this.__data__;if(e instanceof tf){var u=e.__data__;if(!ij||u.length<199)return u.push([t,r]),this.size=++e.size,this;e=this.__data__=new ta(u)}return e.set(t,r),this.size=e.size,this};var i2,iU,iB,iT=rF(tC),i9=rF(t2,!0),iD=rN(),i3=rN(!0),i5=iO?function(n,t){return iO.set(n,t),n}:u1,iM=ia?function(n,t){return ia(n,"toString",{configurable:!0,enumerable:!1,value:uj(t),writable:!0})}:u1,iF=ic||function(n){return tB.clearTimeout(n)},iN=iA&&1/C(new iA([,-0]))[1]==Y?function(n){return new iA(n)}:uI,iP=iO?function(n){return iO.get(n)}:uI,iq=i8?function(n){return null==n?[]:(n=uU(n),i(i8(n),function(t){return ir.call(n,t)}))}:uz,iZ=i8?function(n){for(var t=[];n;)c(t,iq(n)),n=uX(n);return t}:uz,iK=t3;(ix&&iK(new ix(new ArrayBuffer(1)))!=nm||ij&&iK(new ij)!=ns||i1&&iK(i1.resolve())!=nv||iA&&iK(new iA)!=ng||ik&&iK(new ik)!=nb)&&(iK=function(n){var t=t3(n),r=t==n8?n.constructor:D,e=r?eE(r):"";if(e)switch(e){case iS:return nm;case iR:return ns;case iE:return nv;case i6:return ng;case iW:return nb}return t});var iV=uM?ut:uS,iG=ez(i5),iH=is||function(n,t){return tB.setTimeout(n,t)},iJ=ez(iM),iY=(iB=(iU=eG(i2=function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(nT,function(n,r,e,u){t.push(e?u.replace(nZ,"$1"):r||n)}),t},function(n){return 500===iB.size&&iB.clear(),n})).cache,iU),iQ=r_(function(n,t){return eQ(n)?tj(n,tS(t,1,eQ,!0)):[]}),iX=r_(function(n,t){var r=e7(t);return eQ(r)&&(r=D),eQ(n)?tj(n,tS(t,1,eQ,!0),e8(r,2)):[]}),on=r_(function(n,t){var r=e7(t);return eQ(r)&&(r=D),eQ(n)?tj(n,tS(t,1,eQ,!0),D,r):[]}),ot=r_(function(n){var t=a(n,rW);return t.length&&t[0]===n[0]?tQ(t):[]}),or=r_(function(n){var t=e7(n),r=a(n,rW);return t===e7(r)?t=D:r.pop(),r.length&&r[0]===n[0]?tQ(r,e8(t,2)):[]}),oe=r_(function(n){var t=e7(n),r=a(n,rW);return(t="function"==typeof t?t:D)&&r.pop(),r.length&&r[0]===n[0]?tQ(r,D,t):[]}),ou=r_(e2),oi=ec(function(n,t){var r=null==n?0:n.length,e=tb(n,t);return rv(n,a(t,function(n){return eb(n,r)?+n:n}).sort(rB)),e}),oo=r_(function(n){return rI(tS(n,1,eQ,!0))}),of=r_(function(n){var t=e7(n);return eQ(t)&&(t=D),rI(tS(n,1,eQ,!0),e8(t,2))}),oa=r_(function(n){var t=e7(n);return t="function"==typeof t?t:D,rI(tS(n,1,eQ,!0),D,t)}),oc=r_(function(n,t){return eQ(n)?tj(n,t):[]}),ol=r_(function(n){return rE(i(n,eQ))}),os=r_(function(n){var t=e7(n);return eQ(t)&&(t=D),rE(i(n,eQ),e8(t,2))}),oh=r_(function(n){var t=e7(n);return t="function"==typeof t?t:D,rE(i(n,eQ),D,t)}),op=r_(eT),o8=r_(function(n){var t=n.length,r=t>1?n[t-1]:D;return r="function"==typeof r?(n.pop(),r):D,e9(n,r)}),ov=ec(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return tb(t,n)};return!(t>1||this.__actions__.length)&&e instanceof ti&&eb(r)?((e=e.slice(r,+r+(t?1:0))).__actions__.push({func:e5,args:[u],thisArg:D}),new tu(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(D),n})):this.thru(u)}),o$=r5(function(n,t,r){uN.call(n,r)?++n[r]:td(n,r,1)}),og=rK(eW),o_=rK(eL),oy=r5(function(n,t,r){uN.call(n,r)?n[r].push(t):td(n,r,[t])}),od=r_(function(t,r,e){var u=-1,i="function"==typeof r,o=eY(t)?uL(t.length):[];return iT(t,function(t){o[++u]=i?n(r,t,e):tX(t,r,e)}),o}),ob=r5(function(n,t,r){td(n,r,t)}),ow=r5(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),om=r_(function(n,t){if(null==n)return[];var r=t.length;return r>1&&ew(n,t[0],t[1])?t=[]:r>2&&ew(t[0],t[1],t[2])&&(t=[t[0]]),rh(n,tS(t,1),[])}),o0=il||function(){return tB.Date.now()},ox=r_(function(n,t,r){var e=1;if(r.length){var u=L(r,ep(ox));e|=G}return eu(n,e,t,r,u)}),oj=r_(function(n,t,r){var e=3;if(r.length){var u=L(r,ep(oj));e|=G}return eu(t,e,n,r,u)}),o1=r_(function(n,t){return tx(n,1,t)}),oA=r_(function(n,t,r){return tx(n,u8(t)||0,r)});eG.Cache=ta;var ok,oI=r_(function(t,r){var e=(r=1==r.length&&oW(r[0])?a(r[0],A(e8())):a(tS(r,1),A(e8()))).length;return r_(function(u){for(var i=-1,o=id(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),oO=r_(function(n,t){return eu(n,G,D,t,L(t,ep(oO)))}),oz=r_(function(n,t){return eu(n,H,D,t,L(t,ep(oz)))}),oS=ec(function(n,t){return eu(n,256,D,D,D,t)}),oR=en(t5),oE=en(function(n,t){return n>=t}),o6=rn(function(){return arguments}())?rn:function(n){return ui(n)&&uN.call(n,"callee")&&!ir.call(n,"callee")},oW=uL.isArray,oL=tM?A(tM):function n(t){return ui(t)&&t3(t)==nw},oC=iv||uS,o4=tF?A(tF):function n(t){return ui(t)&&t3(t)==nf},o7=tN?A(tN):function n(t){return ui(t)&&iK(t)==ns},o2=tP?A(tP):function n(t){return ui(t)&&t3(t)==n$},oU=tq?A(tq):function n(t){return ui(t)&&iK(t)==ng},oB=tZ?A(tZ):function n(t){return ui(t)&&ue(t.length)&&!!tW[t3(t)]},oT=en(ro),o9=en(function(n,t){return n<=t}),oD=rM(function(n,t){if(ex(t)||eY(t))return r3(t,uy(t),n),D;for(var r in t)uN.call(t,r)&&t$(n,r,t[r])}),o3=rM(function(n,t){r3(t,ud(t),n)}),o5=rM(function(n,t,r,e){r3(t,ud(t),n,e)}),oM=rM(function(n,t,r,e){r3(t,uy(t),n,e)}),oF=ec(tb),oN=r_(function(n,t){n=uU(n);var r=-1,e=t.length,u=e>2?t[2]:D;for(u&&ew(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=ud(i),f=-1,a=o.length;++f<a;){var c=o[f],l=n[c];(l===D||eJ(l,u5[c])&&!uN.call(n,c))&&(n[c]=i[c])}return n}),oP=r_(function(t){return t.push(D,eo),n(oG,D,t)}),oq=rH(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=uZ.call(t)),n[t]=r},uj(u1)),oZ=rH(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=uZ.call(t)),uN.call(n,t)?n[t].push(r):n[t]=[r]},e8),oK=r_(tX),oV=rM(function(n,t,r){rl(n,t,r)}),oG=rM(function(n,t,r,e){rl(n,t,r,e)}),oH=ec(function(n,t){var r={};if(null==n)return r;var e=!1;t=a(t,function(t){return t=rC(t,n),e||(e=t.length>1),t}),r3(n,es(n),r),e&&(r=tm(r,6|P,ef));for(var u=t.length;u--;)rO(r,t[u]);return r}),oJ=ec(function(n,t){var r,e;return null==n?{}:(r=n,rp(r,e=t,function(n,t){return u_(r,t)}))}),oY=ee(uy),oQ=ee(ud),oX=rq(function(n,t,r){return t=t.toLowerCase(),n+(r?um(t):t)}),fn=rq(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),ft=rq(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),fr=rP("toLowerCase"),fe=rq(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),fu=rq(function(n,t,r){return n+(r?" ":"")+fo(t)}),fi=rq(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),fo=rP("toUpperCase"),ff=r_(function(t,r){try{return n(t,D,r)}catch(e){return un(e)?e:new u4(e)}}),fa=ec(function(n,t){return r(t,function(t){t=eR(t),td(n,t,ox(n[t],n))}),n}),fc=rV(),fl=rV(!0),fs=r_(function(n,t){return function(r){return tX(r,n,t)}}),fh=r_(function(n,t){return function(r){return tX(n,r,t)}}),fp=rY(a),f8=rY(u),fv=rY(h),f$=rX(),fg=rX(!0),f_=rJ(function(n,t){return n+t},0),fy=er("ceil"),fd=rJ(function(n,t){return n/t},1),fb=er("floor"),fw=rJ(function(n,t){return n*t},1),fm=er("round"),f0=rJ(function(n,t){return n-t},0);return tr.after=function n(t,r){if("function"!=typeof r)throw new u9(M);return t=uh(t),function(){if(--t<1)return r.apply(this,arguments)}},tr.ary=eP,tr.assign=oD,tr.assignIn=o3,tr.assignInWith=o5,tr.assignWith=oM,tr.at=oF,tr.before=eq,tr.bind=ox,tr.bindAll=fa,tr.bindKey=oj,tr.castArray=function n(){if(!arguments.length)return[];var t=arguments[0];return oW(t)?t:[t]},tr.chain=eD,tr.chunk=function n(t,r,e){r=(e?ew(t,r,e):r===D)?1:iy(uh(r),0);var u=null==t?0:t.length;if(!u||r<1)return[];for(var i=0,o=0,f=uL(ih(u/r));i<u;)f[o++]=rm(t,i,i+=r);return f},tr.compact=function n(t){for(var r=-1,e=null==t?0:t.length,u=0,i=[];++r<e;){var o=t[r];o&&(i[u++]=o)}return i},tr.concat=function n(){var t=arguments.length;if(!t)return[];for(var r=uL(t-1),e=arguments[0],u=t;u--;)r[u-1]=arguments[u];return c(oW(e)?rD(e):[e],tS(r,1))},tr.cond=function t(r){var e=null==r?0:r.length,u=e8();return r=e?a(r,function(n){if("function"!=typeof n[1])throw new u9(M);return[u(n[0]),n[1]]}):[],r_(function(t){for(var u=-1;++u<e;){var i=r[u];if(n(i[0],this,t))return n(i[1],this,t)}})},tr.conforms=function n(t){var r,e;return r=tm(t,P),e=uy(r),function(n){return t0(n,r,e)}},tr.constant=uj,tr.countBy=o$,tr.create=function n(t,r){var e=i7(t);return null==r?e:ty(e,r)},tr.curry=eZ,tr.curryRight=eK,tr.debounce=eV,tr.defaults=oN,tr.defaultsDeep=oP,tr.defer=o1,tr.delay=oA,tr.difference=iQ,tr.differenceBy=iX,tr.differenceWith=on,tr.drop=function n(t,r,e){var u=null==t?0:t.length;return u?(r=e||r===D?1:uh(r),rm(t,r<0?0:r,u)):[]},tr.dropRight=function n(t,r,e){var u=null==t?0:t.length;return u?(r=e||r===D?1:uh(r),rm(t,0,(r=u-r)<0?0:r)):[]},tr.dropRightWhile=function n(t,r){return t&&t.length?rS(t,e8(r,3),!0,!0):[]},tr.dropWhile=function n(t,r){return t&&t.length?rS(t,e8(r,3),!0):[]},tr.fill=function n(t,r,e,u){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&ew(t,r,e)&&(e=0,u=i),function n(t,r,e,u){var i=t.length;for((e=uh(e))<0&&(e=-e>i?0:i+e),(u=u===D||u>i?i:uh(u))<0&&(u+=i),u=e>u?0:up(u);e<u;)t[e++]=r;return t}(t,r,e,u)):[]},tr.filter=function n(t,r){return(oW(t)?i:tO)(t,e8(r,3))},tr.flatMap=function n(t,r){return tS(eN(t,r),1)},tr.flatMapDeep=function n(t,r){return tS(eN(t,r),Y)},tr.flatMapDepth=function n(t,r,e){return e=e===D?1:uh(e),tS(eN(t,r),e)},tr.flatten=eC,tr.flattenDeep=function n(t){return(null==t?0:t.length)?tS(t,Y):[]},tr.flattenDepth=function n(t,r){return(null==t?0:t.length)?(r=r===D?1:uh(r),tS(t,r)):[]},tr.flip=function n(t){return eu(t,512)},tr.flow=fc,tr.flowRight=fl,tr.fromPairs=function n(t){for(var r=-1,e=null==t?0:t.length,u={};++r<e;){var i=t[r];u[i[0]]=i[1]}return u},tr.functions=function n(t){return null==t?[]:tU(t,uy(t))},tr.functionsIn=function n(t){return null==t?[]:tU(t,ud(t))},tr.groupBy=oy,tr.initial=function n(t){return(null==t?0:t.length)?rm(t,0,-1):[]},tr.intersection=ot,tr.intersectionBy=or,tr.intersectionWith=oe,tr.invert=oq,tr.invertBy=oZ,tr.invokeMap=od,tr.iteratee=uA,tr.keyBy=ob,tr.keys=uy,tr.keysIn=ud,tr.map=eN,tr.mapKeys=function n(t,r){var e={};return r=e8(r,3),tC(t,function(n,t,u){td(e,r(n,t,u),n)}),e},tr.mapValues=function n(t,r){var e={};return r=e8(r,3),tC(t,function(n,t,u){td(e,t,r(n,t,u))}),e},tr.matches=function n(t){return ra(tm(t,P))},tr.matchesProperty=function n(t,r){return rc(t,tm(r,P))},tr.memoize=eG,tr.merge=oV,tr.mergeWith=oG,tr.method=fs,tr.methodOf=fh,tr.mixin=uk,tr.negate=eH,tr.nthArg=function n(t){return t=uh(t),r_(function(n){return rs(n,t)})},tr.omit=oH,tr.omitBy=function n(t,r){return ub(t,eH(e8(r)))},tr.once=function n(t){return eq(2,t)},tr.orderBy=function n(t,r,e,u){return null==t?[]:(oW(r)||(r=null==r?[]:[r]),e=u?D:e,oW(e)||(e=null==e?[]:[e]),rh(t,r,e))},tr.over=fp,tr.overArgs=oI,tr.overEvery=f8,tr.overSome=fv,tr.partial=oO,tr.partialRight=oz,tr.partition=ow,tr.pick=oJ,tr.pickBy=ub,tr.property=uO,tr.propertyOf=function n(t){return function(n){return null==t?D:tT(t,n)}},tr.pull=ou,tr.pullAll=e2,tr.pullAllBy=function n(t,r,e){return t&&t.length&&r&&r.length?r8(t,r,e8(e,2)):t},tr.pullAllWith=function n(t,r,e){return t&&t.length&&r&&r.length?r8(t,r,D,e):t},tr.pullAt=oi,tr.range=f$,tr.rangeRight=fg,tr.rearg=oS,tr.reject=function n(t,r){return(oW(t)?i:tO)(t,eH(e8(r,3)))},tr.remove=function n(t,r){var e=[];if(!t||!t.length)return e;var u=-1,i=[],o=t.length;for(r=e8(r,3);++u<o;){var f=t[u];r(f,u,t)&&(e.push(f),i.push(u))}return rv(t,i),e},tr.rest=function n(t,r){if("function"!=typeof t)throw new u9(M);return r=r===D?r:uh(r),r_(t,r)},tr.reverse=eU,tr.sampleSize=function n(t,r,e){return r=(e?ew(t,r,e):r===D)?1:uh(r),(oW(t)?tp:rd)(t,r)},tr.set=function n(t,r,e){return null==t?t:rb(t,r,e)},tr.setWith=function n(t,r,e,u){return u="function"==typeof u?u:D,null==t?t:rb(t,r,e,u)},tr.shuffle=function n(t){return(oW(t)?t8:rw)(t)},tr.slice=function n(t,r,e){var u=null==t?0:t.length;return u?(e&&"number"!=typeof e&&ew(t,r,e)?(r=0,e=u):(r=null==r?0:uh(r),e=e===D?u:uh(e)),rm(t,r,e)):[]},tr.sortBy=om,tr.sortedUniq=function n(t){return t&&t.length?r1(t):[]},tr.sortedUniqBy=function n(t,r){return t&&t.length?r1(t,e8(r,2)):[]},tr.split=function n(t,r,e){return e&&"number"!=typeof e&&ew(t,r,e)&&(r=e=D),(e=e===D?nn:e>>>0)?(t=u$(t))&&("string"==typeof r||null!=r&&!o2(r))&&!(r=rk(r))&&R(t)?r4(B(t),0,e):t.split(r,e):[]},tr.spread=function t(r,e){if("function"!=typeof r)throw new u9(M);return e=null==e?0:iy(uh(e),0),r_(function(t){var u=t[e],i=r4(t,0,e);return u&&c(i,u),n(r,this,i)})},tr.tail=function n(t){var r=null==t?0:t.length;return r?rm(t,1,r):[]},tr.take=function n(t,r,e){return t&&t.length?(r=e||r===D?1:uh(r),rm(t,0,r<0?0:r)):[]},tr.takeRight=function n(t,r,e){var u=null==t?0:t.length;return u?(r=e||r===D?1:uh(r),rm(t,(r=u-r)<0?0:r,u)):[]},tr.takeRightWhile=function n(t,r){return t&&t.length?rS(t,e8(r,3),!1,!0):[]},tr.takeWhile=function n(t,r){return t&&t.length?rS(t,e8(r,3)):[]},tr.tap=e3,tr.throttle=function n(t,r,e){var u=!0,i=!0;if("function"!=typeof t)throw new u9(M);return uu(e)&&(u="leading"in e?!!e.leading:u,i="trailing"in e?!!e.trailing:i),eV(t,r,{leading:u,maxWait:r,trailing:i})},tr.thru=e5,tr.toArray=ul,tr.toPairs=oY,tr.toPairsIn=oQ,tr.toPath=function n(t){return oW(t)?a(t,eR):uc(t)?[t]:rD(iY(u$(t)))},tr.toPlainObject=uv,tr.transform=function n(t,e,u){var i=oW(t),o=i||oC(t)||oB(t);if(e=e8(e,4),null==u){var f=t&&t.constructor;u=o?i?new f:[]:uu(t)&&ut(f)?i7(uX(t)):{}}return(o?r:tC)(t,function(n,t,r){return e(u,n,t,r)}),u},tr.unary=function n(t){return eP(t,1)},tr.union=oo,tr.unionBy=of,tr.unionWith=oa,tr.uniq=function n(t){return t&&t.length?rI(t):[]},tr.uniqBy=function n(t,r){return t&&t.length?rI(t,e8(r,2)):[]},tr.uniqWith=function n(t,r){return r="function"==typeof r?r:D,t&&t.length?rI(t,D,r):[]},tr.unset=function n(t,r){return null==t||rO(t,r)},tr.unzip=eT,tr.unzipWith=e9,tr.update=function n(t,r,e){return null==t?t:rz(t,r,rL(e))},tr.updateWith=function n(t,r,e,u){return u="function"==typeof u?u:D,null==t?t:rz(t,r,rL(e),u)},tr.values=uw,tr.valuesIn=function n(t){return null==t?[]:k(t,ud(t))},tr.without=oc,tr.words=ux,tr.wrap=function n(t,r){return oO(rL(r),t)},tr.xor=ol,tr.xorBy=os,tr.xorWith=oh,tr.zip=op,tr.zipObject=function n(t,r){return r6(t||[],r||[],t$)},tr.zipObjectDeep=function n(t,r){return r6(t||[],r||[],rb)},tr.zipWith=o8,tr.entries=oY,tr.entriesIn=oQ,tr.extend=o3,tr.extendWith=o5,uk(tr,tr),tr.add=f_,tr.attempt=ff,tr.camelCase=oX,tr.capitalize=um,tr.ceil=fy,tr.clamp=function n(t,r,e){return e===D&&(e=r,r=D),e!==D&&(e=(e=u8(e))==e?e:0),r!==D&&(r=(r=u8(r))==r?r:0),tw(u8(t),r,e)},tr.clone=function n(t){return tm(t,4)},tr.cloneDeep=function n(t){return tm(t,4|P)},tr.cloneDeepWith=function n(t,r){return r="function"==typeof r?r:D,tm(t,4|P,r)},tr.cloneWith=function n(t,r){return r="function"==typeof r?r:D,tm(t,4,r)},tr.conformsTo=function n(t,r){return null==r||t0(t,r,uy(r))},tr.deburr=u0,tr.defaultTo=function n(t,r){return null==t||t!=t?r:t},tr.divide=fd,tr.endsWith=function n(t,r,e){t=u$(t),r=rk(r);var u=t.length,i=e=e===D?u:tw(uh(e),0,u);return(e-=r.length)>=0&&t.slice(e,i)==r},tr.eq=eJ,tr.escape=function n(t){return(t=u$(t))&&nC.test(t)?t.replace(nW,tG):t},tr.escapeRegExp=function n(t){return(t=u$(t))&&nD.test(t)?t.replace(n9,"\\$&"):t},tr.every=function n(t,r,e){var i=oW(t)?u:t1;return e&&ew(t,r,e)&&(r=D),i(t,e8(r,3))},tr.find=og,tr.findIndex=eW,tr.findKey=function n(t,r){return p(t,e8(r,3),tC)},tr.findLast=o_,tr.findLastIndex=eL,tr.findLastKey=function n(t,r){return p(t,e8(r,3),t2)},tr.floor=fb,tr.forEach=eM,tr.forEachRight=eF,tr.forIn=function n(t,r){return null==t?t:iD(t,e8(r,3),ud)},tr.forInRight=function n(t,r){return null==t?t:i3(t,e8(r,3),ud)},tr.forOwn=function n(t,r){return t&&tC(t,e8(r,3))},tr.forOwnRight=function n(t,r){return t&&t2(t,e8(r,3))},tr.get=ug,tr.gt=oR,tr.gte=oE,tr.has=function n(t,r){return null!=t&&e_(t,r,tK)},tr.hasIn=u_,tr.head=e4,tr.identity=u1,tr.includes=function n(t,r,e,u){t=eY(t)?t:uw(t),e=e&&!u?uh(e):0;var i=t.length;return e<0&&(e=iy(i+e,0)),ua(t)?e<=i&&t.indexOf(r,e)>-1:!!i&&$(t,r,e)>-1},tr.indexOf=function n(t,r,e){var u=null==t?0:t.length;if(!u)return -1;var i=null==e?0:uh(e);return i<0&&(i=iy(u+i,0)),$(t,r,i)},tr.inRange=function n(t,r,e){var u,i,o;return r=us(r),e===D?(e=r,r=0):e=us(e),u=t=u8(t),u>=id(i=r,o=e)&&u<iy(i,o)},tr.invoke=oK,tr.isArguments=o6,tr.isArray=oW,tr.isArrayBuffer=oL,tr.isArrayLike=eY,tr.isArrayLikeObject=eQ,tr.isBoolean=function n(t){return!0===t||!1===t||ui(t)&&t3(t)==no},tr.isBuffer=oC,tr.isDate=o4,tr.isElement=function n(t){return ui(t)&&1===t.nodeType&&!uf(t)},tr.isEmpty=function n(t){if(null==t)return!0;if(eY(t)&&(oW(t)||"string"==typeof t||"function"==typeof t.splice||oC(t)||oB(t)||o6(t)))return!t.length;var r=iK(t);if(r==ns||r==ng)return!t.size;if(ex(t))return!ri(t).length;for(var e in t)if(uN.call(t,e))return!1;return!0},tr.isEqual=eX,tr.isEqualWith=function n(t,r,e){var u=(e="function"==typeof e?e:D)?e(t,r):D;return u===D?rt(t,r,D,e):!!u},tr.isError=un,tr.isFinite=function n(t){return"number"==typeof t&&i$(t)},tr.isFunction=ut,tr.isInteger=ur,tr.isLength=ue,tr.isMap=o7,tr.isMatch=function n(t,r){return t===r||rr(t,r,e$(r))},tr.isMatchWith=function n(t,r,e){return e="function"==typeof e?e:D,rr(t,r,e$(r),e)},tr.isNaN=function n(t){return uo(t)&&t!=+t},tr.isNative=function n(t){if(iV(t))throw new u4("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return re(t)},tr.isNil=function n(t){return null==t},tr.isNull=function n(t){return null===t},tr.isNumber=uo,tr.isObject=uu,tr.isObjectLike=ui,tr.isPlainObject=uf,tr.isRegExp=o2,tr.isSafeInteger=function n(t){return ur(t)&&t>=-Q&&t<=Q},tr.isSet=oU,tr.isString=ua,tr.isSymbol=uc,tr.isTypedArray=oB,tr.isUndefined=function n(t){return t===D},tr.isWeakMap=function n(t){return ui(t)&&iK(t)==nb},tr.isWeakSet=function n(t){return ui(t)&&"[object WeakSet]"==t3(t)},tr.join=function n(t,r){return null==t?"":ig.call(t,r)},tr.kebabCase=fn,tr.last=e7,tr.lastIndexOf=function n(t,r,e){var u=null==t?0:t.length;if(!u)return -1;var i=u;return e!==D&&(i=(i=uh(e))<0?iy(u+i,0):id(i,u-1)),r==r?function n(t,r,e){for(var u=e+1;u--&&t[u]!==r;);return u}(t,r,i):v(t,_,i,!0)},tr.lowerCase=ft,tr.lowerFirst=fr,tr.lt=oT,tr.lte=o9,tr.max=function n(t){return t&&t.length?tA(t,u1,t5):D},tr.maxBy=function n(t,r){return t&&t.length?tA(t,e8(r,2),t5):D},tr.mean=function n(t){return y(t,u1)},tr.meanBy=function n(t,r){return y(t,e8(r,2))},tr.min=function n(t){return t&&t.length?tA(t,u1,ro):D},tr.minBy=function n(t,r){return t&&t.length?tA(t,e8(r,2),ro):D},tr.stubArray=uz,tr.stubFalse=uS,tr.stubObject=uR,tr.stubString=uE,tr.stubTrue=u6,tr.multiply=fw,tr.nth=function n(t,r){return t&&t.length?rs(t,uh(r)):D},tr.noConflict=function n(){return tB._===this&&(tB._=uV),this},tr.noop=uI,tr.now=o0,tr.pad=function n(t,r,e){t=u$(t);var u=(r=uh(r))?U(t):0;if(!r||u>=r)return t;var i=(r-u)/2;return rQ(ip(i),e)+t+rQ(ih(i),e)},tr.padEnd=function n(t,r,e){t=u$(t);var u=(r=uh(r))?U(t):0;return r&&u<r?t+rQ(r-u,e):t},tr.padStart=function n(t,r,e){t=u$(t);var u=(r=uh(r))?U(t):0;return r&&u<r?rQ(r-u,e)+t:t},tr.parseInt=function n(t,r,e){return e||null==r?r=0:r&&(r=+r),iw(u$(t).replace(n3,""),r||0)},tr.random=function n(t,r,e){if(e&&"boolean"!=typeof e&&ew(t,r,e)&&(r=e=D),e===D&&("boolean"==typeof r?(e=r,r=D):"boolean"==typeof t&&(e=t,t=D)),t===D&&r===D?(t=0,r=1):(t=us(t),r===D?(r=t,t=0):r=us(r)),t>r){var u=t;t=r,r=u}if(e||t%1||r%1){var i=im();return id(t+i*(r-t+t4("1e-"+((i+"").length-1))),r)}return r$(t,r)},tr.reduce=function n(t,r,e){var u=oW(t)?l:w,i=arguments.length<3;return u(t,e8(r,4),e,i,iT)},tr.reduceRight=function n(t,r,e){var u=oW(t)?s:w,i=arguments.length<3;return u(t,e8(r,4),e,i,i9)},tr.repeat=function n(t,r,e){return r=(e?ew(t,r,e):r===D)?1:uh(r),rg(u$(t),r)},tr.replace=function n(){var t=arguments,r=u$(t[0]);return t.length<3?r:r.replace(t[1],t[2])},tr.result=function n(t,r,e){r=rC(r,t);var u=-1,i=r.length;for(i||(i=1,t=D);++u<i;){var o=null==t?D:t[eR(r[u])];o===D&&(u=i,o=e),t=ut(o)?o.call(t):o}return t},tr.round=fm,tr.runInContext=b,tr.sample=function n(t){return(oW(t)?th:ry)(t)},tr.size=function n(t){if(null==t)return 0;if(eY(t))return ua(t)?U(t):t.length;var r=iK(t);return r==ns||r==ng?t.size:ri(t).length},tr.snakeCase=fe,tr.some=function n(t,r,e){var u=oW(t)?h:r0;return e&&ew(t,r,e)&&(r=D),u(t,e8(r,3))},tr.sortedIndex=eB,tr.sortedIndexBy=function n(t,r,e){return rj(t,r,e8(e,2))},tr.sortedIndexOf=function n(t,r){var e=null==t?0:t.length;if(e){var u=rx(t,r);if(u<e&&eJ(t[u],r))return u}return -1},tr.sortedLastIndex=function n(t,r){return rx(t,r,!0)},tr.sortedLastIndexBy=function n(t,r,e){return rj(t,r,e8(e,2),!0)},tr.sortedLastIndexOf=function n(t,r){if(null==t?0:t.length){var e=rx(t,r,!0)-1;if(eJ(t[e],r))return e}return -1},tr.startCase=fu,tr.startsWith=function n(t,r,e){return t=u$(t),e=null==e?0:tw(uh(e),0,t.length),r=rk(r),t.slice(e,e+r.length)==r},tr.subtract=f0,tr.sum=function n(t){return t&&t.length?m(t,u1):0},tr.sumBy=function n(t,r){return t&&t.length?m(t,e8(r,2)):0},tr.template=function n(t,r,e){var u=tr.templateSettings;e&&ew(t,r,e)&&(r=D),t=u$(t),r=o5({},r,u,ei);var i,o,f=o5({},r.imports,u.imports,ei),a=uy(f),c=k(f,a),l=0,s=r.interpolate||tn,h="__p += '",p=uB((r.escape||tn).source+"|"+s.source+"|"+(s===n2?nK:tn).source+"|"+(r.evaluate||tn).source+"|$","g"),v="//# sourceURL="+(uN.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++t6+"]")+"\n";t.replace(p,function(n,r,e,u,f,a){return e||(e=u),h+=t.slice(l,a).replace(tt,S),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+n.length,n}),h+="';\n";var $=uN.call(r,"variable")&&r.variable;if($){if(nq.test($))throw new u4("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(nS,""):h).replace(nR,"$1").replace(nE,"$1;"),h="function("+($||"obj")+") {\n"+($?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=ff(function(){return u7(a,v+"return "+h).apply(D,c)});if(g.source=h,un(g))throw g;return g},tr.times=function n(t,r){if((t=uh(t))<1||t>Q)return[];var e=nn,u=id(t,nn);r=e8(r),t-=nn;for(var i=x(u,r);++e<t;)r(e);return i},tr.toFinite=us,tr.toInteger=uh,tr.toLength=up,tr.toLower=function n(t){return u$(t).toLowerCase()},tr.toNumber=u8,tr.toSafeInteger=function n(t){return t?tw(uh(t),-Q,Q):0===t?t:0},tr.toString=u$,tr.toUpper=function n(t){return u$(t).toUpperCase()},tr.trim=function n(t,r,e){if((t=u$(t))&&(e||r===D))return j(t);if(!t||!(r=rk(r)))return t;var u=B(t),i=B(r);return r4(u,O(u,i),z(u,i)+1).join("")},tr.trimEnd=function n(t,r,e){if((t=u$(t))&&(e||r===D))return t.slice(0,T(t)+1);if(!t||!(r=rk(r)))return t;var u=B(t);return r4(u,0,z(u,B(r))+1).join("")},tr.trimStart=function n(t,r,e){if((t=u$(t))&&(e||r===D))return t.replace(n3,"");if(!t||!(r=rk(r)))return t;var u=B(t);return r4(u,O(u,B(r))).join("")},tr.truncate=function n(t,r){var e=30,u=J;if(uu(r)){var i="separator"in r?r.separator:i;e="length"in r?uh(r.length):e,u="omission"in r?rk(r.omission):u}var o=(t=u$(t)).length;if(R(t)){var f=B(t);o=f.length}if(e>=o)return t;var a=e-U(u);if(a<1)return u;var c=f?r4(f,0,a).join(""):t.slice(0,a);if(i===D)return c+u;if(f&&(a+=c.length-a),o2(i)){if(t.slice(a).search(i)){var l,s=c;for(i.global||(i=uB(i.source,u$(nV.exec(i))+"g")),i.lastIndex=0;l=i.exec(s);)var h=l.index;c=c.slice(0,h===D?a:h)}}else if(t.indexOf(rk(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+u},tr.unescape=function n(t){return(t=u$(t))&&nL.test(t)?t.replace(n6,tH):t},tr.uniqueId=function n(t){var r=++uP;return u$(t)+r},tr.upperCase=fi,tr.upperFirst=fo,tr.each=eM,tr.eachRight=eF,tr.first=e4,uk(tr,(ok={},tC(tr,function(n,t){uN.call(tr.prototype,t)||(ok[t]=n)}),ok),{chain:!1}),tr.VERSION="4.17.21",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){tr[n].placeholder=tr}),r(["drop","take"],function(n,t){ti.prototype[n]=function(r){r=r===D?1:iy(uh(r),0);var e=this.__filtered__&&!t?new ti(this):this.clone();return e.__filtered__?e.__takeCount__=id(r,e.__takeCount__):e.__views__.push({size:id(r,nn),type:n+(e.__dir__<0?"Right":"")}),e},ti.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=1==r||3==r;ti.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:e8(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");ti.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");ti.prototype[n]=function(){return this.__filtered__?new ti(this):this[r](1)}}),ti.prototype.compact=function(){return this.filter(u1)},ti.prototype.find=function(n){return this.filter(n).head()},ti.prototype.findLast=function(n){return this.reverse().find(n)},ti.prototype.invokeMap=r_(function(n,t){return"function"==typeof n?new ti(this):this.map(function(r){return tX(r,n,t)})}),ti.prototype.reject=function(n){return this.filter(eH(e8(n)))},ti.prototype.slice=function(n,t){n=uh(n);var r=this;return r.__filtered__&&(n>0||t<0)?new ti(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==D&&(r=(t=uh(t))<0?r.dropRight(-t):r.take(t-n)),r)},ti.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ti.prototype.toArray=function(){return this.take(nn)},tC(ti.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=tr[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(tr.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof ti,a=o[0],l=f||oW(t),s=function(n){var t=u.apply(tr,c([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof a&&1!=a.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,v=i&&!h,$=f&&!p;if(!i&&l){t=$?t:new ti(this);var g=n.apply(t,o);return g.__actions__.push({func:e5,args:[s],thisArg:D}),new tu(g,h)}return v&&$?n.apply(this,o):(g=this.thru(s),v?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=uD[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);tr.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(oW(u)?u:[],n)}return this[r](function(r){return t.apply(oW(r)?r:[],n)})}}),tC(ti.prototype,function(n,t){var r=tr[t];if(r){var e=r.name+"";uN.call(iz,e)||(iz[e]=[]),iz[e].push({name:t,func:r})}}),iz[rG(D,2).name]=[{name:"wrapper",func:D}],ti.prototype.clone=function n(){var t=new ti(this.__wrapped__);return t.__actions__=rD(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rD(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rD(this.__views__),t},ti.prototype.reverse=function n(){if(this.__filtered__){var t=new ti(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},ti.prototype.value=function n(){var t=this.__wrapped__.value(),r=this.__dir__,e=oW(t),u=r<0,i=e?t.length:0,o=function n(t,r,e){for(var u=-1,i=e.length;++u<i;){var o=e[u],f=o.size;switch(o.type){case"drop":t+=f;break;case"dropRight":r-=f;break;case"take":r=id(r,t+f);break;case"takeRight":t=iy(t,r-f)}}return{start:t,end:r}}(0,i,this.__views__),f=o.start,a=o.end,c=a-f,l=u?a:f-1,s=this.__iteratees__,h=s.length,p=0,v=id(c,this.__takeCount__);if(!e||!u&&i==c&&v==c)return rR(t,this.__actions__);var $=[];n:for(;c--&&p<v;){l+=r;for(var g=-1,_=t[l];++g<h;){var y=s[g],d=y.iteratee,b=y.type,w=d(_);if(2==b)_=w;else if(!w){if(1==b)continue n;break n}}$[p++]=_}return $},tr.prototype.at=ov,tr.prototype.chain=function n(){return eD(this)},tr.prototype.commit=function n(){return new tu(this.value(),this.__chain__)},tr.prototype.next=function n(){this.__values__===D&&(this.__values__=ul(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?D:this.__values__[this.__index__++]}},tr.prototype.plant=function n(t){for(var r,e=this;e instanceof te;){var u=e6(e);u.__index__=0,u.__values__=D,r?i.__wrapped__=u:r=u;var i=u;e=e.__wrapped__}return i.__wrapped__=t,r},tr.prototype.reverse=function n(){var t=this.__wrapped__;if(t instanceof ti){var r=t;return this.__actions__.length&&(r=new ti(this)),(r=r.reverse()).__actions__.push({func:e5,args:[eU],thisArg:D}),new tu(r,this.__chain__)}return this.thru(eU)},tr.prototype.toJSON=tr.prototype.valueOf=tr.prototype.value=function n(){return rR(this.__wrapped__,this.__actions__)},tr.prototype.first=tr.prototype.head,ii&&(tr.prototype[ii]=function n(){return this}),tr}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tB._=tJ,define(function(){return tJ})):t9?((t9.exports=tJ)._=tJ,tT._=tJ):tB._=tJ}).call(this);
    };

    const load_hotkeys = ()=>{
        if (state.loaded.hotkeys) return;
        state.loaded.hotkeys = true;
        /*! hotkeys-js v3.11.2 | MIT © 2023 kenny wong <wowohoo@qq.com> https://jaywcjlove.github.io/hotkeys-js */
        !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).hotkeys=t()}(this,function(){"use strict";var e="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function d(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function p(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function y(e){for(var t=(e=(e="string"!=typeof e?"":e).replace(/\s/g,"")).split(","),n=t.lastIndexOf("");0<=n;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var o={backspace:8,"\u232b":8,tab:9,clear:12,enter:13,"\u21a9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":e?173:189,"=":e?61:187,";":e?59:186,"'":222,"[":219,"]":221,"\\":220},h={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},m={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},g={16:!1,18:!1,17:!1,91:!1},v={},t=1;t<20;t++)o["f".concat(t)]=111+t;var k=[],w=!1,n="all",O=[],K=function(e){return o[e.toLowerCase()]||h[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function i(e){n=e||"all"}function b(){return n||"all"}function f(e){var r=e.scope,i=e.method,t=e.splitKey,f=void 0===t?"+":t;y(e.key).forEach(function(e){var t,e=e.split(f),n=e.length,o=e[n-1],o="*"===o?"*":K(o);v[o]&&(r=r||b(),t=1<n?p(h,e):[],v[o]=v[o].filter(function(e){return!((!i||e.method===i)&&e.scope===r&&function(e,t){for(var n=e.length<t.length?t:e,o=e.length<t.length?e:t,r=!0,i=0;i<n.length;i++)~o.indexOf(n[i])||(r=!1);return r}(e.mods,t))}))})}function x(e,t,n,o){var r;if(t.element===o&&(t.scope===n||"all"===t.scope)){for(var i in r=0<t.mods.length,g)Object.prototype.hasOwnProperty.call(g,i)&&(!g[i]&&~t.mods.indexOf(+i)||g[i]&&!~t.mods.indexOf(+i))&&(r=!1);(0!==t.mods.length||g[16]||g[18]||g[17]||g[91])&&!r&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(k),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble)&&(e.cancelBubble=!0))}}function C(n,e){var t=v["*"],o=n.keyCode||n.which||n.charCode;if(E.filter.call(this,n)){if(~k.indexOf(o=93!==o&&224!==o?o:91)||229===o||k.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(e){var t=m[e];n[e]&&!~k.indexOf(t)?k.push(t):!n[e]&&~k.indexOf(t)?k.splice(k.indexOf(t),1):"metaKey"!==e||!n[e]||3!==k.length||n.ctrlKey||n.shiftKey||n.altKey||(k=k.slice(k.indexOf(t)))}),o in g){for(var r in g[o]=!0,h)h[r]===o&&(E[r]=!0);if(!t)return}for(var i in g)Object.prototype.hasOwnProperty.call(g,i)&&(g[i]=n[m[i]]);n.getModifierState&&(!n.altKey||n.ctrlKey)&&n.getModifierState("AltGraph")&&(~k.indexOf(17)||k.push(17),~k.indexOf(18)||k.push(18),g[17]=!0,g[18]=!0);var f=b();if(t)for(var c=0;c<t.length;c++)t[c].scope===f&&("keydown"===n.type&&t[c].keydown||"keyup"===n.type&&t[c].keyup)&&x(n,t[c],f,e);if(o in v)for(var a=0;a<v[o].length;a++)if(("keydown"===n.type&&v[o][a].keydown||"keyup"===n.type&&v[o][a].keyup)&&v[o][a].key){for(var l=v[o][a],s=l.key.split(l.splitKey),u=[],d=0;d<s.length;d++)u.push(K(s[d]));u.sort().join("")===k.sort().join("")&&x(n,l,f,e)}}}function E(e,t,n){k=[];var o=y(e),r=[],i="all",f=document,c=0,a=!1,l=!0,s="+",u=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(f=t.element),t.keyup&&(a=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(u=t.capture),"string"==typeof t.splitKey)&&(s=t.splitKey),"string"==typeof t&&(i=t);c<o.length;c++)r=[],1<(e=o[c].split(s)).length&&(r=p(h,e)),(e="*"===(e=e[e.length-1])?"*":K(e))in v||(v[e]=[]),v[e].push({keyup:a,keydown:l,scope:i,mods:r,shortcut:o[c],method:n,key:o[c],splitKey:s,element:f});void 0!==f&&(t=f,!~O.indexOf(t))&&window&&(O.push(f),d(f,"keydown",function(e){C(e,f)},u),w||(w=!0,d(window,"focus",function(){k=[]},u)),d(f,"keyup",function(e){C(e,f);var t=e.keyCode||e.which||e.charCode,n=k.indexOf(t);if(n<0||k.splice(n,1),e.key&&"meta"==e.key.toLowerCase()&&k.splice(0,k.length),(t=93!==t&&224!==t?t:91)in g)for(var o in g[t]=!1,h)h[o]===t&&(E[o]=!1)},u))}var r,c,a={getPressedKeyString:function(){return k.map(function(e){return n=e,Object.keys(o).find(function(e){return o[e]===n})||(t=e,Object.keys(h).find(function(e){return h[e]===t}))||String.fromCharCode(e);var t,n})},setScope:i,getScope:b,deleteScope:function(e,t){var n,o,r;for(r in e=e||b(),v)if(Object.prototype.hasOwnProperty.call(v,r))for(n=v[r],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;b()===e&&i(t||"all")},getPressedKeyCodes:function(){return k.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=K(e)),!!~k.indexOf(e)},filter:function(e){var t=(e=e.target||e.srcElement).tagName;return!e.isContentEditable&&("INPUT"!==t&&"TEXTAREA"!==t&&"SELECT"!==t||e.readOnly)?!0:!1},trigger:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(v).forEach(function(e){v[e].filter(function(e){return e.scope===n&&e.shortcut===t}).forEach(function(e){e&&e.method&&e.method()})})},unbind:function(e){if(void 0===e)Object.keys(v).forEach(function(e){return delete v[e]});else if(Array.isArray(e))e.forEach(function(e){e.key&&f(e)});else if("object"==typeof e)e.key&&f(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),f({key:e,scope:r,method:i,splitKey:"+"})}},keyMap:o,modifier:h,modifierMap:m};for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(E[r]=a[r]);return"undefined"!=typeof window&&(c=window.hotkeys,E.noConflict=function(e){return e&&window.hotkeys===E&&(window.hotkeys=c),E},window.hotkeys=E),E});
    }

    class EventBus {
        constructor() {
            this.events = {};
        }

        on(event_name, callback) {
            if (!this.events[event_name]) {
                this.events[event_name] = [];
            }
            this.events[event_name].push(callback);
        }

        emit(event_name, payload) {
            const eventCallbacks = this.events[event_name];
            if (eventCallbacks) {
                eventCallbacks.forEach(callback => callback(payload));
            }
        }
    }

    const eventbus = new EventBus();

    window.load_lodash = load_lodash;
    window.load_hotkeys = load_hotkeys;

    const r0 = {
        eventbus: eventbus,
        providers: {
            ytmusic: {
                get_playlist_songs: (params) => {
                    r0.libs_loaders.lodash();

                    if (!_.isObject(params)) {
                        throw new Error('USAGE: get_playlist_songs({ wrap: boolean = false, as_json: boolean = false, order: boolean = false, no_brackets: boolean = false, duration: boolean = false })');
                    }

                    params = {
                        wrap: false,
                        as_json: false,
                        order: false,
                        no_brackets: false,
                        duration: false,
                        ...params
                    }

                    let els = document.querySelectorAll("ytmusic-responsive-list-item-renderer")
                    let r = []
                    els.forEach((el) => {
                        let tokens = el.querySelectorAll('yt-formatted-string')
                        let songname = `${tokens[1].textContent.trim()} - ${tokens[0].textContent}`
                        if (params.no_brackets){
                            songname = `${r0.strings.dissolve_brackets(tokens[1].textContent)} - ${r0.strings.dissolve_brackets(tokens[0].textContent)}`
                        }

                        if (params.duration){
                            songname = `${songname} [${tokens[3].textContent.trim()}]`
                        }

                        r.push(songname)
                    })
                    if (params.order) {
                        r = _.orderBy(r, (el) => el.toLowerCase())
                    }
                    r = (params.wrap || params.as_json) ? { songs: r } : r
                    return params.as_json ? JSON.stringify(r, null, '\t') : r
                }
            }
        },
        signals: {
            notify(text) {
                // Create a new notification element
                var notification = document.createElement('div');
                notification.classList.add('notification');
                notification.textContent = text;

                // Add the notification to the page
                var container = document.getElementById('notification-container');
                container.appendChild(notification);

                // Set the timeout to remove the notification after 10 seconds
                setTimeout(function () {
                    container.removeChild(notification);
                }, 10000);
            }
        },
        utils: {
            async load_script_url(url) {
                return new Promise(resolve => {
                    const script = document.createElement('script');
                    script.src = url;
                    script.onload = () => resolve(true);
                    document.head.appendChild(script);
                });
            },
            dispatch_event_on_element(event_name, element) {
                const event = new Event(event_name, {
                    "view": window,
                    "bubbles": true,
                    "cancelable": false
                });

                element.dispatchEvent(event);
                // Try calling on<event> property
                if (typeof element['on' + event_name] === 'function') {
                    element['on' + event_name]();
                }
            },
            inject_css(css) {
                var style = document.createElement('style');
                style.textContent = css;
                document.head.appendChild(style);
            },
            inject_css_url(cssUrl) {
                var head = document.head || document.getElementsByTagName('head')[0];
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = cssUrl;
                head.appendChild(link);
            },
            download_file(content, filename) {
                const element = document.createElement('a');
                element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
                element.setAttribute('download', filename);
                element.style.display = 'none';
                document.body.appendChild(element);
                element.click();
                document.body.removeChild(element);
            },
            download_json(content, filename) {
                return r0.utils.download_file(JSON.stringify(content, null, 2), filename)
            },
            download_first_image(element, filename) {
                let img;
                if (element.tagName === 'IMG') {
                    img = element;
                } else {
                    img = element.querySelector('img');
                }
                if (img) {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.naturalWidth;
                    canvas.height = img.naturalHeight;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight);
                    canvas.toBlob(blob => {
                        const element = document.createElement('a');
                        element.href = URL.createObjectURL(blob);
                        element.download = filename;
                        element.style.display = 'none';
                        document.body.appendChild(element);
                        element.click();
                        document.body.removeChild(element);
                    });
                } else {
                    console.error('No image element found.');
                }
            },
            download_largest_image(element, filename) {
                let img;
                if (element.tagName === 'IMG') {
                    img = element;
                } else {
                    const images = Array.from(element.querySelectorAll('img'));
                    const sortedImages = _.sortBy(images, img => img.naturalWidth * img.naturalHeight);
                    img = sortedImages[sortedImages.length - 1];
                }
                if (img) {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.naturalWidth;
                    canvas.height = img.naturalHeight;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight);
                    canvas.toBlob(blob => {
                        const element = document.createElement('a');
                        element.href = URL.createObjectURL(blob);
                        element.download = filename;
                        element.style.display = 'none';
                        document.body.appendChild(element);
                        element.click();
                        document.body.removeChild(element);
                    });
                } else {
                    console.error('No image element found.');
                }
            },
            download_largest_image_xhr(element, filename) {
                let img;
                if (element.tagName === 'IMG') {
                    img = element;
                } else {
                    const images = Array.from(element.querySelectorAll('img'));
                    const sortedImages = _.sortBy(images, img => img.naturalWidth * img.naturalHeight);
                    img = sortedImages[sortedImages.length - 1];
                }
                if (img) {
                    const xhr = new XMLHttpRequest();
                    xhr.open('GET', img.src, true);
                    xhr.responseType = 'arraybuffer';
                    xhr.onload = function () {
                        const blob = new Blob([xhr.response], { type: 'image/png' });
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = filename;
                        link.click();
                        URL.revokeObjectURL(url);
                    };
                    xhr.send();
                } else {
                    console.error('No image element found.');
                }
            },
            download_largest_image_fetch(element, filename) {
                let img;
                if (element.tagName === 'IMG') {
                    img = element;
                } else {
                    const images = Array.from(element.querySelectorAll('img'));
                    const sortedImages = _.sortBy(images, img => img.naturalWidth * img.naturalHeight);
                    img = sortedImages[sortedImages.length - 1];
                }
                if (img) {
                    fetch(img.src)
                        .then(response => response.blob())
                        .then(blob => {
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = filename;
                        link.click();
                        URL.revokeObjectURL(url);
                    })
                        .catch(error => {
                        console.error(error);
                    });
                } else {
                    console.error('No image element found.');
                }
            },
            get_texts_or_attributes(selector, attribute_name) {
                const elements = document.querySelectorAll(selector);
                const result = [];
                for (let i = 0; i < elements.length; i++) {
                    const element = elements[i];
                    if (attribute_name) {
                        const value = element.getAttribute(attribute_name);
                        if (value) {
                            result.push(value);
                        }
                    } else {
                        const text = element.textContent.trim();
                        if (text) {
                            result.push(text);
                        }
                    }
                }
                return result;
            },
            wait(seconds = 1) {
                return new Promise((resolve) => setTimeout(resolve, seconds))
            },
            wait_for_elements(selector, elements_count = 1, timeout = 30 * 1000) {
                return new Promise((resolve, reject) => {
                    let started_at = +new Date()
                    let id = setInterval(() => {
                        let elements = document.querySelectorAll(selector)
                        if (elements.length == elements_count) {
                            clearInterval(id)
                            resolve(elements)
                        }
                        if (+new Date() - started_at >= timeout) {
                            clearInterval(id)
                            reject()
                        }
                    }, 1000 / 15)
                    })
            }
        },
        strings: {
            dissolve_brackets(inp) {
                // The regular expression matches everything between ( and ), including ( and )
                return inp.replace(/\(.*?\)/g, '').trim();
            }
        },
        libs_loaders: {
            lodash: load_lodash,
            hotkeys: load_hotkeys
        },
        initializers: {
            libs() {
                r0.libs_loaders.lodash()
                r0.libs_loaders.hotkeys()
            },
            notifications() {
                // Add CSS styles for the notifications
                r0.utils.inject_css(`
                    #notification-container {
                        position: fixed;
                        bottom: 8px;
                        left: 8px;
                        width: 100%;
                        max-width: 300px;
                        min-width: 100px;
                        display: flex;
                        flex-direction: column-reverse;
                        z-index: 9999;
                    }

                    .notification {
                        background-color: #333;
                        color: #fff;
                        padding: 10px;
                        margin-bottom: 10px;
                        animation: slide-up 0.25s ease-out;
                    }

                    @keyframes slide-up {
                        0% {
                        transform: translateY(100%);
                        }
                        100% {
                        transform: translateY(0);
                        }
                    }
                `)

                // Create the container element for the notifications
                var container = document.createElement('div');
                container.id = 'notification-container';
                document.body.appendChild(container);
            },
            hotkeys () {
                hotkeys('ctrl+0+d', ()=>{
                    console.log('requesting debugging break')
                    debugger;
                })
            },
            mutations_observing(){
                // Select the target node
                const targetNode = document.body; // You can change this to observe mutations on a different element

                // Create an observer instance
                const observer = new MutationObserver((mutationsList) => {
                    eventbus.emit('dom.mutations', {
                        mutations: mutationsList
                    })
                    for (let mutation of mutationsList) {
                        eventbus.emit('dom.mutation', {
                            mutation: mutation
                        })
                        eventbus.emit(`dom.mutation.${mutation.type.toLowerCase()}`, {
                            mutation: mutation
                        })
                        // Perform actions based on the mutation type
                    }
                });

                // Configuration of the observer
                const config = {
                    attributes: true, // Set to true if you want to observe attribute changes
                    childList: true, // Set to true if you want to observe additions/removals of child nodes
                    subtree: true, // Set to true if you want to observe mutations within descendant nodes as well
                    // additional options: characterData, attributeOldValue, characterDataOldValue
                };

                // Start observing the target node
                observer.observe(targetNode, config);

                // To stop observing mutations later, you can call:
                // observer.disconnect();
            }
        },
        async init() {
            r0.initializers.libs()
            r0.initializers.notifications()
            r0.initializers.hotkeys()

            r0.signals.notify('r0 intialized')
        },

    }

    window.r0 = r0;
})();